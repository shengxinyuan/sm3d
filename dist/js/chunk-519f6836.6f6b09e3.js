(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-519f6836"],{"069e":function(t,a,s){"use strict";s.r(a);var n=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bag"},[s("title-bar",{attrs:{title:"我的设计"}}),s("van-row",{staticClass:"bag-tab"},[s("van-col",{attrs:{span:"24"}},[s("van-tabs",{staticClass:"bag-tabs",model:{value:t.active,callback:function(a){t.active=a},expression:"active"}},[s("van-tab",{attrs:{title:"女戒方案"}},[t.isEmpty?s("van-row",[s("van-col",{staticClass:"bag-empty__height",attrs:{span:"24"}}),s("van-col",{staticClass:"bag-empty__img",attrs:{span:"24"}},[s("img",{attrs:{src:"https://h5.zbird.com/static/icons/design-empty.png",width:"50px",height:"66px"}})]),s("van-col",{attrs:{span:"24"}},[s("van-row",{staticClass:"bag-empty__p",attrs:{span:"24"}},[s("p",[t._v("人人都是设计师，您也可以！")])])],1),s("van-col",{attrs:{span:"24"}},[s("a",{attrs:{href:"/design.html"}},[s("van-button",{staticClass:"button",attrs:{type:"primary"}},[t._v("去智能定制")])],1)])],1):s("van-row",{staticClass:"bag-list"},[s("van-swipe",{staticClass:"my-swipe",attrs:{"show-indicators":!1,loop:!0},on:{change:t.onChange}},t._l(t.list,(function(a,n){return s("van-swipe-item",{key:n},[s("van-col",{staticClass:"bag-list__img",attrs:{span:"24"}},[s("van-col",{staticClass:"bag-empty__height",attrs:{span:"24"}}),s("div",{staticClass:"design-img",style:{backgroundImage:"url("+a.preview_image}})],1),s("van-col",{staticClass:"bag-list__p",attrs:{span:"24"}},[s("p",{staticClass:"bag-list__p--top"},[t._v(t._s(a.title))]),s("p",{staticClass:"bag-list__p--middle"},[t._v(t._s(a.ring_print))])])],1)})),1),s("van-col",{staticClass:"bag-list__buy",attrs:{span:"24"}},[s("van-button",{staticClass:"button bag-list__btn--buy",attrs:{type:"primary"},on:{click:t.jumpOrderConfirm}},[t._v("下单购买")])],1)],1)],1),t._e()],1)],1),s("van-col",{attrs:{span:"12"}},[s("div",{staticClass:"bag-tab__right"},[t._v(t._s(t.swiperIndex||1)+"/"+t._s(t.list&&t.list.length||"0"))])]),s("van-col",{attrs:{span:"24"}})],1),s("van-row",{staticClass:"bag-btns"},[s("van-col",{staticClass:"bag-btns__btn bag-btns__delete",on:{click:t.deleteDesign}},[s("van-row",[s("van-icon",{attrs:{name:"delete-o",color:"rgb(193, 177, 138)",size:"25"}})],1),s("van-row",[t._v("删除")])],1),s("van-col",{staticClass:"bag-btns__btn bag-btns__share",on:{click:t.share}},[s("van-row",[s("van-icon",{attrs:{name:"share-o",color:"rgb(193, 177, 138)",size:"25"}})],1),s("van-row",[t._v("分享")])],1),s("van-col",{staticClass:"bag-btns__btn bag-btns__share",on:{click:t.jumpDesign}},[s("van-row",[s("van-icon",{attrs:{name:"edit",color:"rgb(193, 177, 138)",size:"25"}})],1),s("van-row",[t._v("修改")])],1)],1)],1)},i=[],e={data:function(){return{hasShare:window.parent.uni&&window.parent.uni.share,active:2,bottomActive:0,isEmpty:!1,swiperIndex:0,currtBn:0,list:[]}},created:function(){this.loadList()},methods:{loadList:function(){var t=this;this.$get({url:"/api/3d/getMyDesign"}).then((function(a){t.list=a.data,t.currtBn=t.list.length?t.list[0].bn:0})).catch((function(){t.$toast.fail("获取数据失败，请稍后重试")}))},onChange:function(t){this.swiperIndex=t,this.currtBn=this.list[t].bn},deleteDesign:function(){var t=this;this.$dialog.confirm({title:"提示",message:"请确认是否要删除当前设计"}).then((function(){t.$post({url:"/api/3d/deleteDesign",data:{id:t.currtBn}}).then((function(a){"1"==a.status&&(t.loadList(),t.$toast.success("删除成功"))})).catch((function(){t.$toast.fail("删除失败")}))}))},jumpDesign:function(){location.href="/design.html?bn=".concat(this.currtBn)},share:function(){window.parent.uni&&window.parent.uni.share&&window.parent.uni.share({provider:"weixin",scene:"WXSceneSession",type:0,href:"http://zuanshi.dis.wanheweb.com/smsj/index.html#/pages/index/threedesign?url=share&bn=".concat(this.currtBn),title:"奢美珠宝",summary:"我在奢美珠宝设计了我的专属钻戒，快来看看吧！",imageUrl:"http://zuanshi.nxm.wanheweb.com/uploads/designImage/20211019/design_223313_5661.png",success:function(t){},fail:function(t){}})},jumpOrderConfirm:function(){this.$router.push("./orderConfirm?bn=".concat(this.currtBn))}}},r=e,c=(s("d791"),s("2877")),o=Object(c["a"])(r,n,i,!1,null,"aab74212",null);a["default"]=o.exports},d0db:function(t,a,s){},d791:function(t,a,s){"use strict";s("d0db")}}]);
//# sourceMappingURL=chunk-519f6836.6f6b09e3.js.map