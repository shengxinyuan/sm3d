(function(t){function e(e){for(var n,s,o=e[0],d=e[1],c=e[2],l=0,u=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&u.push(i[s][0]),i[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);m&&m(e);while(u.length)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],n=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(n=!1)}n&&(r.splice(e--,1),t=d(d.s=a[0]))}return t}var n={},s={app:0},i={app:0},r=[];function o(t){return d.p+"js/"+({}[t]||t)+"."+{"chunk-173e4fe8":"d120d583","chunk-3b3dc931":"889848e7","chunk-3b6ec4ec":"6ec1b30a","chunk-6b576bc0":"7dba06f7","chunk-afdc05ce":"3ef2af58","chunk-c2d58bda":"5313800e"}[t]+".js"}function d(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,d),a.l=!0,a.exports}d.e=function(t){var e=[],a={"chunk-173e4fe8":1,"chunk-3b3dc931":1,"chunk-3b6ec4ec":1,"chunk-6b576bc0":1,"chunk-afdc05ce":1,"chunk-c2d58bda":1};s[t]?e.push(s[t]):0!==s[t]&&a[t]&&e.push(s[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-173e4fe8":"6678a8a9","chunk-3b3dc931":"ac81f758","chunk-3b6ec4ec":"efd9fdd1","chunk-6b576bc0":"5b0adedc","chunk-afdc05ce":"cb451378","chunk-c2d58bda":"387c9d80"}[t]+".css",i=d.p+n,r=document.getElementsByTagName("link"),o=0;o<r.length;o++){var c=r[o],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===i))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){c=u[o],l=c.getAttribute("data-href");if(l===n||l===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var n=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=n,delete s[t],m.parentNode.removeChild(m),a(r)},m.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){s[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,a){n=i[t]=[e,a]}));e.push(n[2]=r);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,d.nc&&l.setAttribute("nonce",d.nc),l.src=o(t);var u=new Error;c=function(e){l.onerror=l.onload=null,clearTimeout(m);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",u.name="ChunkLoadError",u.type=n,u.request=s,a[1](u)}i[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},d.m=t,d.c=n,d.d=function(t,e,a){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},d.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(d.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)d.d(a,n,function(e){return t[e]}.bind(null,n));return a},d.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="/",d.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},"17ff":function(t,e,a){},"180d":function(t,e,a){"use strict";a("20b6")},1967:function(t,e,a){},"199c":function(t,e){},"1c85":function(t,e,a){t.exports=a.p+"img/diamond.eb705317.webp"},"1cba":function(t,e,a){"use strict";a("a438")},"20b6":function(t,e,a){},"23be":function(t,e,a){"use strict";var n=a("199c"),s=a.n(n);e["default"]=s.a},"31c8":function(t,e,a){"use strict";a("ec3f")},"3dfd":function(t,e,a){"use strict";var n=a("7267"),s=a("23be"),i=(a("5c0b"),a("2877")),r=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,null,null);e["default"]=r.exports},"408d":function(t,e,a){"use strict";a("1967")},4260:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));a("ac1f"),a("5319"),a("d3b7"),a("4d63"),a("25f0"),a("466d"),a("841c"),a("159b"),a("1276");var n=function(t){var e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)")),a=window.location.search.substr(1).match(e);return null!=a?unescape(a[2]):null};function s(t){var e=t||window.location.search,a={},n=/[?&][^?&]+=[^?&]+/g,s=e.match(n);return s&&s.forEach((function(t){var e=t.substring(1).split("="),n=decodeURIComponent(e[0]),s=decodeURIComponent(e[1]);a[n]=s})),a}},4659:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loading-cont"},[a("div",{staticClass:"loadEffect"},[a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span"),a("span")]),a("div",{staticClass:"tips"},[t._v("没有一枚钻戒，比亲手设计更有价值和意义。")])])}]},4708:function(t,e,a){"use strict";a("17ff")},"4dee":function(t,e,a){"use strict";var n=a("99ed"),s=a.n(n);e["default"]=s.a},"56d7":function(t,e,a){"use strict";a.r(e);a("be7f");var n=a("565f"),s=(a("e17f"),a("2241")),i=(a("8a58"),a("e41f")),r=(a("5f5f"),a("f253")),o=(a("2994"),a("2bdd")),d=(a("e7e5"),a("d399")),c=(a("c3a6"),a("ad06")),l=(a("bda7"),a("5e46")),u=(a("da3c"),a("0b33")),m=(a("5246"),a("6b41")),f=(a("4d48"),a("d1e1")),p=(a("5f1a"),a("a3e2")),g=(a("81e6"),a("9ffb")),h=(a("66b9"),a("b650")),v=(a("4b0a"),a("2bb1")),b=(a("7844"),a("5596")),I=(a("a52c"),a("2ed4")),_=(a("537a"),a("ac28")),C=(a("2b28"),a("9ed2")),y=(a("acb7"),a("67bb")),A=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),k=a("3dfd"),w=(a("d3b7"),a("3ca3"),a("ddb0"),a("8c4f")),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("title-bar",{attrs:{title:"3D设计",type:2}}),a("router-link",{attrs:{to:"/design",tag:"a"}},[a("div",{staticClass:"home-banner"})]),a("router-link",{attrs:{to:"/design",tag:"a"}},[a("div",{staticClass:"home-tag"})]),a("router-link",{attrs:{to:"/design",tag:"a"}},[a("div",{staticClass:"home-design"})]),a("router-link",{attrs:{to:"/mydesign",tag:"a"}},[a("div",{staticClass:"home-design"},[t._v("我的设计")])]),a("router-link",{attrs:{to:"/design",tag:"a"}},[a("div",{staticClass:"home-se"})]),a("router-link",{attrs:{to:"/design",tag:"a"}},[a("div",{staticClass:"home-img"})])],1)},P=[],x={name:"Home",components:{},methods:{}},E=x,M=(a("1cba"),a("2877")),S=Object(M["a"])(E,D,P,!1,null,"129affd2",null),$=S.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},t._l(t.routes.filter((function(t,e){return e>0})),(function(e,n){return a("router-link",{key:n,staticClass:"item",attrs:{to:e.path,tag:"div"}},[t._v(" "+t._s(e.name)+" ")])})),1)},O=[],B={data:function(){return{routes:ft}}},T=B,W=(a("408d"),Object(M["a"])(T,j,O,!1,null,null,null)),G=W.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-confirm"},[a("title-bar",{attrs:{title:"确认订单"}}),a("section",{staticClass:"order-info-item"},[a("div",{staticClass:"flex order-title-cont"},[a("van-icon",{attrs:{name:"location-o icon-style"}}),a("div",{staticClass:"title"},[t._v(" 收货地址 ")])],1),a("div",{staticClass:"order-info-cont flex"},[a("div",{staticClass:"flex1",on:{click:t.changeAddress}},[a("p",[a("span",[t._v(t._s(t.$store.state.orderConfirm.currtAddress.name||"请选择收货地址"))]),a("span",{staticClass:"phone-num"},[t._v(t._s(t.$store.state.orderConfirm.currtAddress.tel||""))])]),a("p",{staticClass:"address"},[t._v(t._s(t.$store.state.orderConfirm.currtAddress.address||""))])]),a("van-icon",{attrs:{name:"arrow"}})],1)]),a("section",{staticClass:"order-info-item"},[a("div",{staticClass:"flex order-title-cont"},[a("van-icon",{attrs:{name:"completed icon-style"}}),a("div",{staticClass:"title"},[t._v(" 订单商品信息 ")])],1),a("div",{staticClass:"order-info-cont"},[a("div",[a("div",{staticClass:"design-img",style:{backgroundImage:"url("+t.preview_image}})]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[t._v("款式：")]),a("span",{staticClass:"order-cell__value"},[t._v(t._s(t.ksInfo.ks))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[t._v("材质：")]),a("span",{staticClass:"order-cell__value"},[t._v(t._s(t.ksInfo.cz))])]),t.ksInfo.kz?a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[t._v("刻字：")]),a("span",{staticClass:"order-cell__value"},[t._v(t._s(t.ksInfo.kz))])]):t._e(),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[t._v("戒臂：")]),a("span",{staticClass:"order-cell__value"},[t._v(t._s(t.ksInfo.jb))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[t._v("花头：")]),a("span",{staticClass:"order-cell__value"},[t._v(t._s(t.ksInfo.ht))])])]),a("div",{staticClass:"cont-info-more"},[a("label",{staticClass:"remark-label",attrs:{for:"remark"}},[t._v("订单备注")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"remark",attrs:{id:"remark",type:"text",placeholder:"请填写"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),a("section",{staticClass:"order-info-item"},[a("div",{staticClass:"flex order-title-cont"},[a("van-icon",{attrs:{name:"gold-coin-o icon-style"}}),a("div",{staticClass:"title flex1"},[t._v(" 商品总金额 ")]),a("div",{staticClass:"title yellow"},[t._v(" ¥"+t._s(t.ddInfo.total_amount)+" ")])],1),a("div",{staticClass:"order-info-cont"},[a("div",{staticClass:"flex"},[a("van-icon",{attrs:{name:"cash-back-record icon-style"}}),a("div",{staticClass:"flex1"},[t._v("定金")]),a("div",[t._v("¥ "+t._s(t.ddInfo.deposit||0))])],1),a("div",{staticClass:"flex pt10"},[a("van-icon",{attrs:{name:"coupon-o icon-style"}}),a("div",{staticClass:"flex1"},[t._v("定金比例")]),a("div",[t._v(t._s(t.ddInfo.deposit_ratio||0)+"%")])],1),t.userInfo.is_vip?a("div",{staticClass:"flex pt10"},[a("van-icon",{attrs:{name:"balance-list-o icon-style"}}),a("div",{staticClass:"flex1"},[t._v("原价")]),a("div",{staticClass:"delete"},[t._v("¥ "+t._s(t.ddInfo.total_amount-t.ddInfo.deposit||0))])],1):t._e(),a("div",{staticClass:"flex pt10"},[a("van-icon",{attrs:{name:"balance-list-o icon-style"}}),a("div",{staticClass:"flex1"},[t._v("尾款")]),t.userInfo.is_vip?a("div",[t._v("¥ "+t._s(t.ddInfo.total_vip-t.ddInfo.deposit||0))]):a("div",[t._v("¥ "+t._s(t.ddInfo.total_amount-t.ddInfo.deposit||0))])],1),a("div",{staticClass:"jump-vip",on:{click:t.jumpVip}},[t._v("成为会员，享价格优惠！")])])]),a("div",{staticClass:"btns-box"},[a("a",{staticClass:"btn",on:{click:t.buy}},[t._v("立即购买")])])],1)},N=[],Q=(a("2ca0"),a("b0c0"),a("159b"),a("99af"),a("9e2c")),R={components:{},data:function(){return{bn:this.$route.query.bn,comment:"",preview_image:"",ksInfo:{sc:{value:"12 51.2mm",index:"12"},ks:"圆款钻石定制",cz:"",jb:"",ht:"",fs:"天然钻石(白)"},userInfo:{balance:0,is_vip:0},zsInfo:{zs:"GIA 232813821738",zz:"0.15ct",xz:"圆形",ys:"K",jd:"SI2",yg:"无",pg:"EX",qg:"VG",dc:"EX"},ddInfo:{cost:0,deposit:0,deposit_ratio:0,total_amount:0,total_vip:0}}},created:function(){this.onLoad()},computed:{},methods:{onLoad:function(){var t=this;Promise.all([this.$get({url:"/api/3d/design_detail",data:{design_bn:this.bn}}),this.$get({url:"/api/3d/order",data:{design_bn:this.bn}})]).then((function(e){var a=e[0].data,n=e[1].data;t.preview_image=a.preview_image,t.preview_image&&t.preview_image.startsWith("uploads")&&(t.preview_image=""+t.preview_image),a.title&&(t.name=a.title),t.ksInfo.sc=a.ring_size,t.ksInfo.kz=a.ring_print,t.ksInfo.ht=a.flower_head_id,t.ksInfo.jb=a.ring_arm_id,t.zsInfo.zs=a.diamond_id,t.ddInfo=n,t.userInfo.balance=n.user_info.balance,t.userInfo.is_vip=n.user_info.is_vip,Q["c"].forEach((function(e){e.id===a.texture_id&&(t.ksInfo.cz=e.nameCn)}))})).catch((function(e){t.$toast.fail("获取数据失败")}))},buy:function(){var t=this;this.$store.state.orderConfirm.currtAddress.id?this.$post({url:"/api/3d/order",data:{design_bn:this.$route.query.bn,coupon_id:0,comment:this.comment,address_id:this.$store.state.orderConfirm.currtAddress.id,vip:0}}).then((function(e){if(1==e.status&&(t.$toast.success("提交订单成功"),window.uni)){var a={vip:t.userInfo.is_vip?1:0,menber_price:+t.userInfo.balance,shop_price:t.ddInfo.deposit};window.uni.navigateTo({url:"../my/payments?data=".concat(e.data.deposit_bn_id,"&shop=").concat(JSON.stringify(a))})}})).catch((function(){t.$toast.fail("提交订单失败")})):this.$toast("请先选择收货地址")},changeAddress:function(){this.$router.push("/address")},jumpVip:function(){window.uni&&window.uni.navigateTo({url:"../my/vip_member"})}}},z=R,U=(a("7ee2"),Object(M["a"])(z,L,N,!1,null,"980b0864",null)),H=U.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"address"},[a("title-bar",{attrs:{title:"地址列表"}}),a("van-address-list",{attrs:{list:t.list,"default-tag-text":"默认",editable:"false"},on:{add:t.onAdd,select:t.select},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}})],1)},K=[],J=(a("d81d"),{data:function(){return{chosenAddressId:0,list:[]}},created:function(){this.loadAddressInfo()},methods:{loadAddressInfo:function(){var t=this;this.$get({url:"/api/address",data:{is_mine:1}}).then((function(e){t.list=e.data,t.list.map((function(t){t.name=t.contact,t.tel=t.mobile,t.address=t.province+"-"+t.area+"-"+t.city+"-"+t.address}))})).catch((function(){}))},onAdd:function(){window.uni&&window.uni.navigateTo({url:"../my/addAddress?is_mine=1&onShow=0"})},select:function(t,e){this.$store.commit("setState",{currtAddress:t}),this.$router.back()}}}),V=J,Z=(a("b433"),Object(M["a"])(V,Y,K,!1,null,"2776ad59",null)),q=Z.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"design"},[n("title-bar",{attrs:{title:"3D设计"}}),t.loading?n("Loading"):t._e(),n("img",{staticClass:"img2",attrs:{src:a("f923"),alt:""}}),t._m(0),"design"===t.footerTabId?n("section",{staticClass:"page-footer"},[n("div",{staticClass:"design-tabs-title"},[n("div",{staticClass:"back",on:{click:function(){return t.footerTabId="default"}}},[n("van-icon",{attrs:{name:"arrow-left"}}),t._v("返回 ")],1),n("a",{class:1===t.designTab?"active":"",on:{click:function(){t.designTab=1,t.edit3dPartType=1}}},[t._v("花头款式")]),n("a",{class:2===t.designTab?"active":"",on:{click:function(){t.designTab=2,t.edit3dPartType=2}}},[t._v("戒托款式")]),n("a",{class:3===t.designTab?"active":"",on:{click:function(){return t.designTab=3}}},[t._v("戒托材质")])]),n("div",{staticClass:"design-tabs-cont"},[1===t.designTab?n("div",{staticClass:"list"},t._l(t.$store.state.design.parts,(function(e,a){return n("div",{key:a,staticClass:"item",class:t.$store.state.design.partId===e.id?"active":"",on:{click:function(){t.changePartId(e.id)}}},[n("div",{staticClass:"img-box"},[n("i",{staticClass:"img-border"}),n("i",{staticClass:"parts-img img",style:{backgroundImage:"url(https://design.bavlo.com/PartRes/webImg/"+e.defaultImg+"!600)"}})]),n("div",{staticClass:"txt"},[t._v("花头"+t._s(t._f("formatIndex")(a)))])])})),0):t._e(),2===t.designTab?n("div",{staticClass:"list"},t._l(t.$store.state.design.mainParts,(function(e,a){return n("div",{key:a,staticClass:"item",class:t.$store.state.design.mainPartId===e.id?"active":"",on:{click:function(){t.changeMainPartId(e.id)}}},[n("div",{staticClass:"img-box"},[n("i",{staticClass:"img-border"}),n("i",{staticClass:"main-parts-img img",style:{backgroundImage:"url(https://design.bavlo.com/PartRes/webImg/"+e.defaultImg+"!600)"}})]),n("div",{staticClass:"txt"},[t._v("戒托"+t._s(t._f("formatIndex")(a)))])])})),0):t._e(),3===t.designTab?n("div",{staticClass:"list"},t._l(t.$store.state.design.metals,(function(e,a){return n("div",{key:a,staticClass:"item",class:t.$store.state.design.metalId===e.id?"active":"",on:{click:function(){t.changeMetalId(e.id)}}},[n("div",{staticClass:"img-box"},[n("i",{staticClass:"img-border"}),n("i",{staticClass:"metals-img img",style:{backgroundImage:"url(https://design.bavlo.com/IconRes/RoundMetalIcons/"+e.id+".png)"}})]),n("div",{staticClass:"txt"},[t._v(t._s(e.nameCn))])])})),0):t._e()])]):"diamond"===t.footerTabId?n("section",{staticClass:"page-footer"},[n("div",{staticClass:"design-tabs-title"},[n("div",{staticClass:"back",on:{click:function(){return t.footerTabId="default"}}},[n("van-icon",{attrs:{name:"arrow-left"}}),t._v("返回 ")],1),n("a",{staticClass:"active"},[t._v("选择主钻")])]),n("div",{staticClass:"design-tabs-cont"},[this.$store.state.design.diamondId?n("div",{staticClass:"diamond-detail"},[n("div",{staticClass:"diamond-info-cont"},[n("img",{staticClass:"diamond-img",attrs:{src:a("1c85"),alt:""}}),n("div",{staticClass:"diamond-info"},[n("p",[t._v("GIA "+t._s(t.$store.state.design.diamondInfo.size))]),n("p",[t._v("详情: "+t._s(t.$store.state.design.diamondInfo.detail||"_"))]),n("p",[t._v("售价 ¥ "+t._s(t.$store.state.design.diamondInfo.price||"-")+"元")])])]),n("a",{staticClass:"change-btn",on:{click:t.selectDiamond}},[n("van-icon",{attrs:{name:"exchange"}}),n("span",{staticClass:"txt"},[t._v("更换")])],1)]):n("img",{attrs:{src:a("e381"),alt:"",width:"100%"},on:{click:t.selectDiamond}})])]):"mark"===t.footerTabId?n("section",{staticClass:"page-footer"},[n("div",{staticClass:"design-tabs-title"},[n("div",{staticClass:"back",on:{click:t.markBack}},[n("van-icon",{attrs:{name:"arrow-left"}}),t._v("返回 ")],1),n("a",{staticClass:"active"},[t._v("文字印记")])]),n("div",{staticClass:"design-tabs-cont"},[n("div",{staticClass:"mark-cont"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mark,expression:"mark"}],staticClass:"mark-input",attrs:{type:"text",maxlength:"16",placeholder:"印刻彼此名字或誓言(16字内)"},domProps:{value:t.mark},on:{keyup:t.onKeyup,input:function(e){e.target.composing||(t.mark=e.target.value)}}}),n("a",{staticClass:"mark-btn",on:{click:t.saveMark}},[t._v("确认")])])])]):n("section",{staticClass:"page-footer"},[n("div",{staticClass:"btns-group"},[n("a",{staticClass:"option",on:{click:function(){return t.footerTabId="design"}}},[n("i",{staticClass:"icon-design"}),n("span",{staticClass:"txt"},[t._v("设计")])]),n("a",{staticClass:"option",on:{click:function(){return t.footerTabId="diamond"}}},[n("i",{staticClass:"icon-diamond"}),n("span",{staticClass:"txt"},[t._v("选钻")])]),n("a",{staticClass:"option",on:{click:function(){return t.footerTabId="mark"}}},[n("i",{staticClass:"icon-mark"}),n("span",{staticClass:"txt"},[t._v("印记")])]),n("a",{staticClass:"option",on:{click:function(){return t.handPicker=!0}}},[n("i",{staticClass:"icon-try"}),n("span",{staticClass:"txt"},[t._v("手寸")])])]),n("div",{staticClass:"buy-group"},[n("div",{staticClass:"cost"},[t._v("¥ "+t._s(t._f("formatCost")(t.price)))]),n("div",{staticClass:"buy-btn",on:{click:t.confirmDesign}},[t._v("确认设计")])])]),n("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.handPicker,callback:function(e){t.handPicker=e},expression:"handPicker"}},[n("van-picker",{attrs:{"show-toolbar":"","default-index":"8",columns:t.handInch},on:{cancel:function(e){t.handPicker=!1},confirm:t.changeHandInch}})],1)],1)},X=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"web3d-cont"},[a("div",{staticStyle:{},attrs:{id:"web3d"}})])}],tt=a("1da1"),et=(a("96cf"),a("25f0"),a("fb6a"),a("a9e3"),a("865f")),at=a("4260"),nt={components:{Loading:et["default"]},props:[],data:function(){return{handInch:Q["d"],handPicker:!1,mark:"",footerTabId:"default",designTab:1,edit3dPartType:1,imgUrl:"",loading:!0,saveDesignInfo:null,design_bn:"",price:"-"}},computed:{},created:function(){this.$store.dispatch("loadUserInfo");var t=Object(at["a"])("diamondId");this.getDiamond(t,!0)},mounted:function(){var t=this;Promise.all([this.$store.dispatch("loadDesignInfo"),this.$store.dispatch("loadMetalList"),this.$store.dispatch("loadMetalWeb"),this.$store.dispatch("loadGemList"),this.$store.dispatch("loadGemWeb")]).then((function(){console.log("mounted -> data loaded -> init3D");var e=Object(at["a"])("bn"),a=Object(at["a"])("partId"),n=Object(at["a"])("mainPartId"),s=Object(at["a"])("metalId"),i=Object(at["a"])("mark"),r=Object(at["a"])("currentHandInch"),o=Object(at["a"])("diamondId");e?t.$store.dispatch("getDesignInfo",{design_bn:e}).then((function(d){t.saveDesignInfo=d.data,t.design_bn=e;var c=d.data,l=c.ring_size,u=c.diamond_id,m=c.ring_arm_id,f=c.flower_head_id,p=c.texture_id,g=c.ring_print,h=c.title;t.getDiamond(u),console.log({partId:a||f,mainPartId:n||m,metalId:s||p,mark:i||g,currentHandInch:r||l,diamondId:o||u,title:h}),t.mark=i||g||"",t.setRenderParams({partId:a||f,mainPartId:n||m,metalId:s||p,mark:i||g,currentHandInch:r||l,diamondId:o||u,title:h})})):t.setRenderParams({partId:a,mainPartId:n,metalId:s,mark:i,currentHandInch:r})}))},methods:{setRenderParams:function(t){var e=this;for(var a in t)t[a]||delete t[a];this.$store.commit("setState",t),setTimeout((function(){e.init3D()}),0)},getDiamond:function(t,e){t&&(this.$store.dispatch("getDiamondInfo",{id:t}),this.$store.commit("setState",{diamondId:t}),e&&(this.footerTabId="diamond"))},init3D:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i,r,o,d,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.$store.state.design,n=a.designInfo,s=a.partId,i=a.mainPartId,r=a.metalWeb,o=a.metalWebDefault,d=a.gemWeb,c=a.gemWebDefault,l=a.metalId,console.log("partId",s),t.my3d=Bavlo.initWeb3D(Q["b"],"web3d",!1,Q["e"],!1),t.my3d.onWindowResize(2),window.onresize=function(){t.my3d.onWindowResize(2)},t.my3d.initUserMatInfo(o,r,c,d),t.my3d.changeBackground("37,37,42"),t.my3d.loadVarDesign(n,i,s.toString()),setTimeout((function(){t.loading=!1,t.changeMetalId(l),t.my3d.changeCameraPos(!1,-45,85,-65)}),3e3);case 9:case"end":return e.stop()}}),e)})))()},confirmDesign:function(){var t=this,e=this.$store.state.design,a=e.currentHandInch,n=e.diamondId;a?n?(this.loading=!0,this.my3d.changeBackground("72,72,79"),this.my3d.changeCameraPos(!1,-45,85,-65),setTimeout((function(){var e=document.querySelector("#mainCanvas");t.imgUrl=t.my3d.getDesignImage(2*e.offsetWidth,2*e.offsetHeight),t.$store.dispatch("submitDesign",{image:t.imgUrl,bn:t.design_bn}).then((function(e){var a=e.data;console.log(a),t.$router.push("/order?bn=".concat(a))}))}),300)):this.$dialog.alert({title:"请选择钻石",message:"您未选择钻石，请选择钻石"}).then((function(){t.footerTabId="diamond"})):this.$dialog.alert({title:"请选择手寸",message:"您未选择手寸，请选择戒指手寸大小"}).then((function(){t.handPicker=!0}))},selectDiamond:function(){var t=this.$store.state.design,e=t.mark,a=t.mainPartId,n=t.partId,s=t.metalId,i=t.diamondId,r=t.currentHandInch,o={};o.mark=e,o.mainPartId=a,o.partId=n,o.metalId=s,o.diamondId=i,o.currentHandInch=r,o.bn=this.design_bn;var d="//"+location.host+location.pathname+"?";for(var c in o)o[c]&&(d+=c+"="+o[c]+"&");d=d.slice(0,d.length-1),this.$router.push("/diamondList?backUrl=".concat(encodeURIComponent(d)))},tryOn:function(){},saveMark:function(){this.$store.commit("setState",{mark:this.mark}),this.my3d.printUserTextOfLayer(940,this.mark),this.my3d.changeCameraPos(!1,0,80,-60)},markBack:function(){this.footerTabId="default",this.my3d.setRotationState(!0)},onKeyup:function(t){"13"==t.keyCode&&this.saveMark()},changeHandInch:function(t){this.$store.commit("setState",{currentHandInch:t}),this.handPicker=!1,this.getPrice()},changePartId:function(t){console.log("partId",t);var e=this.my3d.getLoadModelState();2==e&&(this.my3d.switchPart(this.edit3dPartType,Number(t)),this.$store.commit("setState",{partId:t})),this.getPrice()},changeMainPartId:function(t){var e=this;console.log("mainPartId",t);var a=this.my3d.getLoadModelState();2==a&&(this.my3d.switchPart(this.edit3dPartType,Number(t)),this.$store.commit("setState",{mainPartId:t}),setTimeout((function(){e.mark&&(e.my3d.printUserTextOfLayer(940,e.mark),setTimeout((function(){e.my3d.setRotationState(!0)}),200))}),1e3)),this.getPrice()},changeMetalId:function(t){var e,a=this.$store.state.design.metals;a.forEach((function(a){+a.id===+t&&(e=a)})),console.log("changeMetalId",t,e),this.$store.commit("setState",{metalId:t}),e&&this.my3d.customizeMetalClass("金属图层",e),this.getPrice()},getPrice:function(){var t=this,e=this.$store.state.design,a=e.partId,n=e.mainPartId,s=e.metalId,i=e.currentHandInch,r=e.diamondId;this.$store.dispatch("getDesignPrice",{currentHandInch:i||13,partId:a,mainPartId:n,metalId:s,diamondId:r}).then((function(e){t.price=e}))}},filters:{formatIndex:function(t){return t+=1,t<10?"0"+t:t},formatCost:function(t){if("number"===typeof t&&!isNaN(t))return t.toString()+".00"}}},st=nt,it=(a("4708"),Object(M["a"])(st,F,X,!1,null,"1f5dfaf8",null)),rt=it.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"share"},[t.loading?n("Loading"):t._e(),n("div",{staticClass:"page-header"},[t._v(" 用户"+t._s(t.ksInfo.nickname||"-")+" 给您分享了他设计的钻戒 ")]),n("img",{staticClass:"img2",attrs:{src:a("f923"),alt:""}}),t._m(0),n("section",{staticClass:"page-footer"},[n("div",{staticClass:"list"},[n("div",{staticClass:"order-cell"},[n("span",{staticClass:"order-cell__label"},[t._v("价格：")]),n("span",{staticClass:"order-cell__value"},[t._v("¥ "+t._s(t.price||"-"))])]),n("div",{staticClass:"order-cell"},[n("span",{staticClass:"order-cell__label"},[t._v("款式：")]),n("span",{staticClass:"order-cell__value"},[t._v(t._s(t.ksInfo.title))])]),t._m(1),t._m(2)]),t._m(3)])],1)},dt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"web3d-cont"},[a("div",{staticStyle:{},attrs:{id:"web3d"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[t._v("视角：")]),a("span",{staticClass:"order-cell__value"},[t._v("360°任意切换")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[t._v("钻石：")]),a("span",{staticClass:"order-cell__value"},[t._v("GIA认证")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"buy-group"},[n("img",{staticClass:"qr-code",attrs:{src:a("7874"),alt:""}}),n("div",{staticClass:"tip"},[t._v("下载奢美饰界APP，设计你的钻戒！")])])}],ct={components:{Loading:et["default"]},props:[],data:function(){return{loading:!0,price:"",ksInfo:{}}},computed:{},created:function(){var t=this,e=this.$route.query.bn;this.$store.dispatch("share_loadUserInfo"),this.$store.dispatch("share_getDesignInfo",{design_bn:e}).then((function(e){t.ksInfo=e.data,t.getPrice(e.data),Promise.all([t.$store.dispatch("share_loadDesignInfo"),t.$store.dispatch("share_loadMetalList"),t.$store.dispatch("share_loadMetalWeb"),t.$store.dispatch("share_loadGemList"),t.$store.dispatch("share_loadGemWeb")]).then((function(){console.log("mounted -> data loaded -> init3D"),t.init3D()})).catch((function(t){console.log(t)}))}))},methods:{init3D:function(){var t=this;return Object(tt["a"])(regeneratorRuntime.mark((function e(){var a,n,s,i,r,o,d,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.$store.state.share,n=a.designInfo,s=a.partId,i=a.mainPartId,r=a.metalWeb,o=a.metalWebDefault,d=a.gemWeb,c=a.gemWebDefault,a.metalId,console.log("mainPartId",s,i),t.my3d=Bavlo.initWeb3D(Q["b"],"web3d",!0,Q["e"],!1),t.my3d.onWindowResize(2),window.onresize=function(){t.my3d.onWindowResize(2)},t.my3d.initUserMatInfo(o,r,c,d),t.my3d.changeBackground("37,37,42"),t.my3d.loadVarDesign(n,i,s.toString()),setTimeout((function(){t.loading=!1,t.my3d.changeCameraPos(!1,-45,85,-65)}),3e3);case 9:case"end":return e.stop()}}),e)})))()},getPrice:function(t){var e=this,a=t.ring_size,n=t.diamond_id,s=t.ring_arm_id,i=t.flower_head_id,r=t.texture_id;this.$store.dispatch("share_getDesignPrice",{currentHandInch:a||13,partId:i,mainPartId:s,metalId:r,diamondId:n}).then((function(t){e.price=t}))}}},lt=ct,ut=(a("d46c"),Object(M["a"])(lt,ot,dt,!1,null,"7b42cfa1",null)),mt=ut.exports;A["a"].use(w["a"]);var ft=[{path:"/debug",name:"DebugList",component:G},{path:"/",name:"Home",component:$},{path:"/design",name:"Design",component:rt},{path:"/share",name:"Share",component:mt},{path:"/mydesign",name:"MyDesign",component:function(){return a.e("chunk-6b576bc0").then(a.bind(null,"069e"))}},{path:"/order",name:"Order",component:function(){return a.e("chunk-3b3dc931").then(a.bind(null,"cf2a"))}},{path:"/diamondList",name:"DiamondList",component:function(){return a.e("chunk-173e4fe8").then(a.bind(null,"bab3"))}},{path:"/diamondDetail",name:"diamondDetail",component:function(){return a.e("chunk-c2d58bda").then(a.bind(null,"e385"))}},{path:"/orderConfirm",name:"OrderConfirm",component:H},{path:"/address",name:"Address",component:q},{path:"/myOrderList",name:"MyOrderList",component:function(){return a.e("chunk-3b6ec4ec").then(a.bind(null,"f35c"))}},{path:"/orderDetail",name:"OrderDetail",component:function(){return a.e("chunk-afdc05ce").then(a.bind(null,"d3bb"))}},{path:"*",name:"404",component:$}],pt=new w["a"]({mode:"history",routes:ft}),gt=pt,ht=a("2f62"),vt=a("53ca"),bt=a("5530"),It=a("bc3a"),_t=a.n(It),Ct=a("4328");_t.a.defaults.baseURL="http://zuanshi.nxm.wanheweb.com/";var yt=function(t){return function(e){var a=e.url,n=e.data,s=e.options,i=void 0===s?{}:s,r=e.isForm,o=void 0===r||r,d={};return window.top.uni&&window.top.uni.getStorageSync&&(console.log(window.top.uni.getStorageSync("token")),d.token=window.top.uni.getStorageSync("token")),_t()(Object(bt["a"])(Object(bt["a"])({url:a,method:t},"POST"===t?{data:o?Object(Ct["stringify"])(n):n}:{}),{},{params:"GET"===t?n:i.params,headers:Object(bt["a"])(Object(bt["a"])({"X-Requested-With":"XMLHttpRequest","Content-Type":o?"application/x-www-form-urlencoded; charset=UTF-8":"application/json"},i.headers),d)})).then((function(t){return"object"!==Object(vt["a"])(t.data)?Promise.reject(t):t.data.errcode?Promise.reject(t.data):t.data})).catch((function(t){return Promise.reject(t)}))}},At=yt("GET"),kt=yt("POST"),wt={state:{userNo:20230,desNo:30163,userInfo:{},designInfo:{},partId:"",parts:[],mainParts:[],mainPartId:"",metals:[],metalId:"",mark:"",currentHandInch:"",diamondId:"",diamondInfo:{},title:"",otherGems:[],metalWeb:[],metalWebDefault:[],gemWeb:[],gemWebDefault:[],materialWeb:[],materialWebDefault:[],webModelPics:[]},mutations:{setState:function(t,e){for(var a in e)t[a]=e[a]}},actions:{loadUserInfo:function(t){var e=t.commit,a=t.state;return kt({url:Q["a"]+"app/userInfo",data:{id:a.userNo}}).then((function(t){if(0===t.code){var a=t.user;e("setState",{userInfo:a})}}))},loadMetalList:function(t){var e=t.commit,a=t.state,n=[];return kt({url:Q["a"]+"app/findUserMetalByUser",data:{userId:a.userNo}}).then((function(t){if(0===t.code)if(t.list.length>0){var a="";n=t.list.map((function(t){return console.log(t.metal),t.metal&&t.metal.nameCn&&"铂金"===t.metal.nameCn&&(a=t.metal.id),t.metal})),a=a||n[0].id,e("setState",{metals:n,metalId:a})}else kt({url:Q["a"]+"app/desMetalList"}).then((function(t){if(0===t.code){var a="";n=Q["c"],n.forEach((function(t){t&&t.nameCn&&"铂金"===t.nameCn&&(a=t.id)})),a=a||n[0].id,e("setState",{metals:n,metalId:a})}else myAlert("数据加载失败！","alert-danger")}));else myAlert("数据加载失败！","alert-danger")}))},loadDesignInfo:function(t){var e=t.commit,a=t.state;return kt({url:Q["a"]+"app/getVariableDesignLayerInfo",data:{id:a.desNo}}).then((function(t){if(0===t.code){var a=t.info,n=a.mainParts,s=a.mainParts[0].id,i=a.parts&&a.parts[0]||[],r=i[0]?i[0].id:"";e("setState",{designInfo:a,mainParts:n,mainPartId:s,partId:r,parts:i})}else console.log("数据加载失败！")}))},loadGemList:function(t){var e=t.commit,a=t.state;return kt({url:Q["a"]+"app/findUserGemByUser",data:{userId:a.userNo}}).then((function(t){var a=[];0===t.code?t.list.length>0?(a=t.list.map((function(t){return t.gem})),e("setState",{gems:a})):kt({url:Q["a"]+"app/desGemList"}).then((function(t){0===t.code?(a=t.list,e("setState",{gems:a})):myAlert("数据加载失败！","alert-danger")})):myAlert("数据加载失败！","alert-danger")}))},loadOtherGemList:function(t){var e=t.commit;t.state;kt({url:Q["a"]+"app/otherGemList"}).then((function(t){if(0===t.code){var a=t.list;e("setState",{otherGems:a})}else myAlert("数据加载失败！","alert-danger")}))},loadMetalWeb:function(t){var e=t.commit,a=t.state;kt({url:Q["a"]+"app/findMetalWebsByUser",data:{userId:a.userNo}}).then((function(t){if(0===t.code){var a=t.list,n=t.list;e("setState",{metalWeb:n,metalWebDefault:a})}else myAlert("数据加载失败！","alert-danger")}))},loadGemWeb:function(t){var e=t.commit,a=t.state;kt({url:Q["a"]+"app/findGemWebsByUser",data:{userId:a.userNo}}).then((function(t){if(0===t.code){var a=t.list,n=t.list;e("setState",{gemWeb:n,gemWebDefault:a})}else myAlert("数据加载失败！","alert-danger")}))},loadMaterialWeb:function(t){var e=t.commit,a=t.state;kt({url:Q["a"]+"app/findMaterialWebsByUserAndType",data:{userId:a.userNo}}).then((function(t){if(0===t.code){var a=t.list,n=t.list;e("setState",{materialWeb:n,materialWebDefault:a})}else myAlert("数据加载失败！","alert-danger")}))},loadModelPicList:function(t){var e=t.commit,a=t.state;kt({url:Q["a"]+"app/webModelPicList",data:{userId:a.userNo,desTypeId:a.designInfo.type.id},isForm:!1}).then((function(t){if(0===t.code){var a=t.list;e("setState",{webModelPics:a})}else myAlert("数据加载失败！","alert-danger")}))},submitDesign:function(t,e){return Object(tt["a"])(regeneratorRuntime.mark((function a(){var n,s,i,r,o,d,c,l,u,m,f,p,g,h;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.commit,n=t.state,s=e.image,i=e.bn,a.next=4,kt({url:"/api/3d/design/upload_image",data:{base64:s}});case 4:return r=a.sent,o=r.data,d=o.url,c=n.mark,l=n.mainPartId,u=n.partId,m=n.metalId,f=n.diamondId,p=n.currentHandInch,g=n.title,h={flower_head_id:u,ring_arm_id:l,diamond_id:f,ring_print:c,texture_id:m,ring_size:p,good_type:1,title:g,preview_image:d},i&&(h.bn=i),a.abrupt("return",kt({url:"/api/3d/saveDesign",data:h}).then((function(t){return t})));case 11:case"end":return a.stop()}}),a)})))()},getDiamondInfo:function(t,e){var a=t.commit,n=(t.state,e.id);At({url:"/api/3d/get_diamond",data:{id:n}}).then((function(t){if(1===t.status){var e=t.data;e.detail="".concat(e.color,"色 ").concat(e.clarity," ").concat(e.cut," ").concat(e.symmetry," ").concat(e.polish," ").concat(e.flr_intensity),a("setState",{diamondInfo:e})}}))},getDesignInfo:function(t,e){var a=e.design_bn;return At({url:"/api/3d/design_detail",data:{design_bn:a}}).then((function(t){return t}))},getDesignPrice:function(t,e){var a=e.currentHandInch,n=e.partId,s=e.mainPartId,i=e.metalId,r=e.diamondId;return At({url:"/api/3d/order/compute_price",data:{diamond_id:r,texture_id:i,ring_size:a,ring_arm_id:s,flower_head_id:n}}).then((function(t){return 1===t.status?t.data.price:"-"}))}}},Dt={state:{optionList:[1,2,3]},mutations:{},actions:{},modules:{}},Pt={state:{currtAddress:{id:0,name:"",tel:"",address:""}},mutations:{setState:function(t,e){for(var a in e)t[a]=e[a]}},actions:{},modules:{}},xt={state:{userNo:20230,desNo:30163,userInfo:{},designInfo:{},partId:"",parts:[],mainParts:[],mainPartId:"",metals:[],metalId:"",diamondId:"",diamondInfo:{},otherGems:[],metalWeb:[],metalWebDefault:[],gemWeb:[],gemWebDefault:[],materialWeb:[],materialWebDefault:[],webModelPics:[]},mutations:{setState:function(t,e){for(var a in e)t[a]=e[a]}},actions:{share_loadUserInfo:function(t){var e=t.commit,a=t.state;return kt({url:Q["a"]+"app/userInfo",data:{id:a.userNo}}).then((function(t){if(0===t.code){var a=t.user;e("setState",{userInfo:a})}}))},share_loadMetalList:function(t){var e=t.commit,a=t.state,n=[];return kt({url:Q["a"]+"app/findUserMetalByUser",data:{userId:a.userNo}}).then((function(t){if(0===t.code)if(t.list.length>0){var a="";n=t.list.map((function(t){return console.log(t.metal),t.metal&&t.metal.nameCn&&"铂金"===t.metal.nameCn&&(a=t.metal.id),t.metal})),a=a||n[0].id,e("setState",{metals:n,metalId:a})}else kt({url:Q["a"]+"app/desMetalList"}).then((function(t){if(0===t.code){var a="";n=t.list,n.forEach((function(t){t&&t.nameCn&&"铂金"===t.nameCn&&(a=t.id)})),a=a||n[0].id,e("setState",{metals:n,metalId:a})}else myAlert("数据加载失败！","alert-danger")}));else myAlert("数据加载失败！","alert-danger")}))},share_loadDesignInfo:function(t){var e=t.commit,a=t.state;return kt({url:Q["a"]+"app/getVariableDesignLayerInfo",data:{id:a.desNo}}).then((function(t){if(0===t.code){var a=t.info,n=a.mainParts,s=a.mainParts[0].id,i=a.parts&&a.parts[0]||[],r=i[0]?i[0].id:"";e("setState",{designInfo:a,mainParts:n,mainPartId:s,partId:r,parts:i})}else console.log("数据加载失败！")}))},share_loadGemList:function(t){var e=t.commit,a=t.state;return kt({url:Q["a"]+"app/findUserGemByUser",data:{userId:a.userNo}}).then((function(t){var a=[];0===t.code?t.list.length>0?(a=t.list.map((function(t){return t.gem})),e("setState",{gems:a})):kt({url:Q["a"]+"app/desGemList"}).then((function(t){0===t.code?(a=t.list,e("setState",{gems:a})):myAlert("数据加载失败！","alert-danger")})):myAlert("数据加载失败！","alert-danger")}))},share_loadMetalWeb:function(t){var e=t.commit,a=t.state;kt({url:Q["a"]+"app/findMetalWebsByUser",data:{userId:a.userNo}}).then((function(t){if(0===t.code){var a=t.list,n=t.list;e("setState",{metalWeb:n,metalWebDefault:a})}else myAlert("数据加载失败！","alert-danger")}))},share_loadGemWeb:function(t){var e=t.commit,a=t.state;kt({url:Q["a"]+"app/findGemWebsByUser",data:{userId:a.userNo}}).then((function(t){if(0===t.code){var a=t.list,n=t.list;e("setState",{gemWeb:n,gemWebDefault:a})}else myAlert("数据加载失败！","alert-danger")}))},share_getDesignInfo:function(t,e){var a=e.design_bn;return At({url:"api/3d/design_detail",data:{design_bn:a}}).then((function(t){return t}))},share_getDesignPrice:function(t,e){var a=e.currentHandInch,n=e.partId,s=e.mainPartId,i=e.metalId,r=e.diamondId;return At({url:"/api/3d/order/compute_price",data:{diamond_id:r,texture_id:i,ring_size:a,ring_arm_id:s,flower_head_id:n}}).then((function(t){return 1===t.status?t.data.price:"-"}))}}};A["a"].use(ht["a"]);var Et=new ht["a"].Store({modules:{common:Dt,design:wt,orderConfirm:Pt,share:xt}}),Mt=(a("157a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-bar-box"},[a("div",{staticClass:"status-bar"}),a("van-nav-bar",{staticClass:"bag-bar",attrs:{title:t.title,"left-text":"","left-arrow":"","safe-area-inset-top":""},on:{"click-left":t.onClickLeft}})],1)}),St=[],$t={name:"TitleBar",props:{title:{type:String,default:""},type:{type:Number,default:1}},methods:{onClickLeft:function(){1===this.type?this.$router.back():window.uni.reLaunch&&window.uni.reLaunch({url:"../../pages/index/index"})}}},jt=$t,Ot=(a("180d"),Object(M["a"])(jt,Mt,St,!1,null,"2d3feca2",null)),Bt=Ot.exports;A["a"].use(y["a"]),A["a"].use(C["a"]),A["a"].use(_["a"]),A["a"].use(I["a"]),A["a"].use(b["a"]),A["a"].use(v["a"]),A["a"].use(h["a"]),A["a"].use(g["a"]),A["a"].use(p["a"]),A["a"].use(f["a"]),A["a"].use(m["a"]),A["a"].use(u["a"]),A["a"].use(l["a"]),A["a"].use(c["a"]),A["a"].use(d["a"]),A["a"].use(o["a"]),A["a"].use(r["a"]),A["a"].use(i["a"]),A["a"].use(s["a"]),A["a"].use(n["a"]),A["a"].component("title-bar",Bt),A["a"].prototype.$get=At,A["a"].prototype.$post=kt,A["a"].prototype.$toast=d["a"],A["a"].config.productionTip=!1,new A["a"]({router:gt,store:Et,render:function(t){return t(k["default"])}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},7267:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[]},7874:function(t,e){t.exports="data:image/png;base64,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"},"7ee2":function(t,e,a){"use strict";a("bac5")},"865f":function(t,e,a){"use strict";var n=a("4659"),s=a("4dee"),i=(a("31c8"),a("2877")),r=Object(i["a"])(s["default"],n["a"],n["b"],!1,null,"3ade5176",null);e["default"]=r.exports},"99ed":function(t,e){},"9c0c":function(t,e,a){},"9e2c":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return s})),a.d(e,"e",(function(){return i})),a.d(e,"d",(function(){return r})),a.d(e,"c",(function(){return o}));var n="",s="https://jcd.bavlo.com/manage/",i="https://design.bavlo.com/",r=["6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],o=[{color:"190,190,190",density:.0152,fMetallic:"1",fSmoothness:"0.9",id:2,name:"W18k",nameCn:"白18K金",parentId:0,price:310,purity:.76,type:0,userId:0,waste:.13},{color:"238, 175, 144",density:.0152,fMetallic:"1",fSmoothness:"0.9",id:3,name:"R18k",nameCn:"红18K金(改)",parentId:0,price:310,purity:.76,type:0,userId:0,waste:.13},{color:"242,220,112",density:.0152,fMetallic:"1",fSmoothness:"0.9",id:1,name:"Y18k",nameCn:"黄18K金",parentId:0,price:310,purity:.76,type:0,userId:0,waste:.13},{color:"225,225,225",density:.0214,fMetallic:"1",fSmoothness:"0.9",id:6,name:"PT950",nameCn:"铂金",parentId:0,price:310,purity:.96,type:0,userId:0,waste:.13},{color:"255,225,110",density:.0193,fMetallic:"1",fSmoothness:"0.9",id:5,name:"G999",nameCn:"足金",parentId:0,price:310,purity:1,type:0,userId:0,waste:.13}]},"9ecb":function(t,e,a){},a438:function(t,e,a){},b433:function(t,e,a){"use strict";a("9ecb")},bac5:function(t,e,a){},cb49:function(t,e,a){},d46c:function(t,e,a){"use strict";a("cb49")},e381:function(t,e,a){t.exports=a.p+"img/add-diamond.15c16f74.png"},ec3f:function(t,e,a){},f923:function(t,e,a){t.exports=a.p+"img/bg.f5df3fa4.png"}});
//# sourceMappingURL=app.c3e9835f.js.map