{"version":3,"sources":["webpack:///./src/components/3DLoading/index.vue?d54a","webpack:///./src/util/ajax.js","webpack:///./src/components/TitleBar/index.vue?97a2","webpack:///./src/util/index.js","webpack:///./src/store/design.js","webpack:///./src/store/common.js","webpack:///./src/store/orderConfirm.js","webpack:///./src/store/share.js","webpack:///./src/store/index.js","webpack:///./src/components/3DLoading/index.vue?da1b","webpack:///./src/components/3DLoading/index.vue?3526","webpack:///./src/mixins/design.js","webpack:///./src/components/3DLoading/index.vue","webpack:///./src/const/design.js","webpack:///./src/components/TitleBar/index.vue?4930","webpack:///src/components/TitleBar/index.vue","webpack:///./src/components/TitleBar/index.vue?1380","webpack:///./src/components/TitleBar/index.vue","webpack:///./src/assets/diamond-list/bg.png"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","_v","host","location","axios","defaults","baseURL","getRequest","method","url","data","options","isForm","tokenHeader","localStorage","getItem","includes","token","stringify","params","headers","then","res","Promise","reject","errcode","catch","err","get","post","getUrlParam","name","reg","RegExp","r","window","search","substr","match","unescape","urlParse","URL","obj","arr","forEach","item","tempArr","substring","split","key","decodeURIComponent","val","state","userNo","desNo","userInfo","designInfo","partId","parts","allParts","mainParts","mainPartId","allMainParts","metals","metalId","mark","currentHandInch","diamondId","diamondInfo","title","comboList","allComboList","comboId","otherGems","metalWeb","metalWebDefault","gemWeb","gemWebDefault","materialWeb","materialWebDefault","webModelPics","mutations","setState","payload","actions","loadUserInfo","commit","apiUrl","id","code","user","getDesignList","typeId","rows","dgpage","userId","loadType","list","loadMetalList","colorList","nameCn","loadDesignInfo","all","heads","rings","status","info","mainPartsFilter","map","d","ring_arm_id","filter","m","partsFilter","flower_id","console","log","loadGemList","gems","length","gem","myAlert","loadOtherGemList","loadMetalWeb","loadGemWeb","loadMaterialWeb","loadModelPicList","desTypeId","type","submitDesign","image","bn","isCombo","base64","message","alert","preview_image","query","diamond_id","ring_print","texture_id","ring_size","good_type","flower_head_id","combo_id","getDiamondInfo","detail","color","clarity","cut","symmetry","polish","flr_intensity","getDesignInfo","_","design_bn","getDesignPrice","price","loadComboList","combos","filters","c","f","getComboInfo","combo","designId","layers","newComboList","optionList","modules","currtAddress","tel","address","share_loadUserInfo","share_loadMetalList","metal","share_loadDesignInfo","share_loadGemList","share_loadMetalWeb","share_loadGemWeb","share_getDesignInfo","share_getDesignPrice","Vue","use","Vuex","Store","common","design","orderConfirm","share","components","Loading","props","loading","saveDesignInfo","created","$store","dispatch","mounted","getDiamond","Boolean","Number","setRenderParams","methods","setTimeout","changeComboId","init3D","clearAndPrepare3D","__pre_isCombo","my3d","onClose","document","querySelector","innerHTML","Bavlo","initWeb3D","baseUrl","resourceDomainName","onWindowResize","onresize","initUserMatInfo","changeBackground","loadVarDesign","toString","loaded","initCombo3D","Combo","loadDesign","getLoadModelState","setInitCameraPos","changeMetalId","printUserMark","setRotationState","changeCameraPos","material","cus","getCustomization","target","find","test","customizeMetalClass","getPrice","force","printUserTextOfLayer","switchIt","$dialog","confirm","formatIndex","num","formatCost","isNaN","component","handInch","density","fMetallic","fSmoothness","parentId","purity","waste","attrs","on","onClickLeft","String","default","uni","navigateBack","module","exports"],"mappings":"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","file":"js/chunk-common.0fcda62b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loading-cont\"},[_c('div',{staticClass:\"loadEffect\"},[_c('span'),_c('span'),_c('span'),_c('span'),_c('span'),_c('span'),_c('span'),_c('span')]),_c('div',{staticClass:\"tips\"},[_vm._v(\"你的钻戒，我要亲手设计\")])])}]\n\nexport { render, staticRenderFns }","import axios from 'axios'\nimport { stringify } from 'qs'\n\nconst host = location.host === '3d-zuanshi.semoh.cn' ? 'http://zuanshi.semoh.cn/' : 'http://test-zuanshi.semoh.cn/'\n// const host = 'https://yapi.kyy1996.com/mock/29';\n\naxios.defaults.baseURL = host\n\nconst getRequest = method => {\n  return ({ url, data, options = {}, isForm = true }) => {\n    const tokenHeader = {}\n\n    if (localStorage.getItem('token') && !url.includes('jcd.bavlo.com')) {\n      tokenHeader.token = localStorage.getItem('token')\n    }\n    return axios({\n      url,\n      method,\n      ...(method === 'POST'\n        ? { data: isForm ? stringify(data) : data }\n        : { }),\n      params: method === 'GET' ? data : options.params,\n      headers: {\n        'X-Requested-With': 'XMLHttpRequest',\n        'Content-Type': isForm\n          ? 'application/x-www-form-urlencoded; charset=UTF-8'\n          : 'application/json',\n        ...options.headers,\n        ...tokenHeader\n      }\n    })\n      .then(res => {\n        if (typeof res.data !== 'object') {\n          return Promise.reject(res)\n        }\n        if (res.data.errcode) {\n          return Promise.reject(res.data)\n        }\n\n        return res.data\n      })\n      .catch(err => {\n        return Promise.reject(err)\n      })\n  }\n}\n\nexport const get = getRequest('GET')\n\nexport const post = getRequest('POST')\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=c50e9c34&lang=scss&scoped=true&\"","export function cc (s) {\n  if (/[^0-9.]/.test(s)) return 'invalid value'\n  s = s.replace(/^(\\d*)$/, '$1.')\n  s = (s + '00').replace(/(\\d*\\.\\d\\d)\\d*/, '$1')\n  s = s.replace('.', ',')\n  var re = /(\\d)(\\d{3},)/\n  while (re.test(s)) { s = s.replace(re, '$1,$2') }\n  s = s.replace(/,(\\d\\d)$/, '.$1')\n  return '￥' + s.replace(/^\\./, '0.')\n}\n\nconst loeded = {}\n\nexport function cssLoader (url) {\n  const status = loeded[url] || false\n  if (status) {\n    return Promise.resolve()\n  }\n  const style = document.createElement('link')\n  style.rel = 'stylesheet'\n  style.href = url\n  document.head.appendChild(style)\n  return new Promise((resolve) => {\n    style.addEventListener(\n      'load',\n      () => {\n        loeded[url] = true\n        resolve()\n      }\n    )\n  })\n}\n\nexport function jsLoader (url) {\n  const status = loeded[url] || false\n  if (status) {\n    return Promise.resolve()\n  }\n  const script = document.createElement('script')\n  script.src = url\n  document.body.appendChild(script)\n  return new Promise((resolve) => {\n    script.addEventListener(\n      'load',\n      () => {\n        loeded[url] = true\n        resolve()\n      })\n  })\n}\n\nexport const getUrlParam = (name) => {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`)\n  const r = window.location.search.substr(1).match(reg)\n  if (r != null) return unescape(r[2])\n  return null\n}\n\nexport function urlParse (URL) {\n  const url = URL || window.location.search\n  const obj = {}\n  const reg = /[?&][^?&]+=[^?&]+/g\n  const arr = url.match(reg)\n  if (arr) {\n    arr.forEach((item) => {\n      const tempArr = item.substring(1).split('=')\n      const key = decodeURIComponent(tempArr[0])\n      const val = decodeURIComponent(tempArr[1])\n      obj[key] = val\n    })\n  }\n  return obj\n};\n","import { apiUrl, colorList } from '../const/design'\nimport { get, post } from '../util/ajax'\n\nexport default {\n  state: {\n    userNo: 20230,\n    desNo: 30163,\n    userInfo: {},\n    // all信息\n    designInfo: {},\n    // 花头\n    partId: '',\n    parts: [],\n    allParts: [], // 不过滤的全部\n    // 戒臂\n    mainParts: [],\n    mainPartId: '',\n    allMainParts: [], // 不过滤的全部\n    // 材质\n    metals: [],\n    metalId: '',\n    // 刻印\n    mark: '',\n    // 当前手寸\n    currentHandInch: '',\n    // 当前钻石\n    diamondId: '',\n    diamondInfo: {},\n    // 设计标题\n    title: '',\n    // 固定款\n    comboList: [],\n    allComboList: [], // 不过滤的全部\n    comboId: '',\n\n    otherGems: [],\n    metalWeb: [],\n    metalWebDefault: [],\n    gemWeb: [],\n    gemWebDefault: [],\n    materialWeb: [],\n    materialWebDefault: [],\n    webModelPics: []\n  },\n  mutations: {\n    setState (state, payload) {\n      for (const key in payload) {\n        state[key] = payload[key]\n      }\n    }\n  },\n  actions: {\n    /**\n     * 1 加载账号信息\n     * @param userId\n     */\n    loadUserInfo ({ commit, state }) {\n      return post({\n        url: apiUrl + 'app/userInfo',\n        data: {\n          id: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const userInfo = data.user\n          commit('setState', { userInfo })\n        }\n      })\n    },\n\n    // 勿删，查看全部定制款\n    getDesignList ({ commit, state }) {\n      return post({\n        url: apiUrl + 'app/designList',\n        data: {\n          typeId: 1,\n          rows: 50,\n          dgpage: 1,\n          userId: state.userNo,\n          loadType: 1\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          let all = ''\n          data.list.forEach((item) => {\n            all += ',' + item.id\n          })\n        }\n      })\n    },\n\n    /**\n     * 2 获取金属材质列表（用于切换材质）\n     */\n    loadMetalList ({ commit, state }) {\n      let metals = []\n      // return post({\n      //   url: apiUrl + 'app/findUserMetalByUser',\n      //   data: {\n      //     userId: state.userNo\n      //   },\n      // }).then((data) => {\n      //   if (data.code === 0) {\n      //     if (data.list.length > 0) {\n      //       let metalId = ''\n      //       metals = data.list.map(item => {\n      //         console.log(item.metal);\n      //         if (item.metal && item.metal.nameCn && item.metal.nameCn === '铂金') {\n      //           metalId = item.metal.id\n      //         }\n      //         return item.metal\n      //       })\n\n      //       metalId = metalId || metals[0].id\n\n      //       commit('setState', {\n      //         metals,\n      //         metalId,\n      //       })\n      //     } else {\n      //       post({\n      //         url: apiUrl + 'app/desMetalList',\n      //       }).then((data) => {\n      //         if (data.code === 0) {\n      let metalId = ''\n      //           // metals = data.list\n      metals = colorList\n\n      metals.forEach(item => {\n        if (item && item.nameCn && item.nameCn === '铂金') {\n          metalId = item.id\n        }\n      })\n\n      metalId = metalId || metals[0].id\n\n      commit('setState', {\n        metals,\n        metalId\n      })\n      //         } else {\n      //           myAlert('数据加载失败！', 'alert-danger')\n      //         }\n      //       })\n      //     }\n      //   } else {\n      //     myAlert('数据加载失败！', 'alert-danger')\n      //   }\n      // })\n    },\n    /**\n     * 3 加载款式信息\n     */\n    loadDesignInfo ({ commit, state }) {\n      return Promise.all([\n        post({\n          url: apiUrl + 'app/getVariableDesignLayerInfo',\n          data: {\n            id: state.desNo\n          }\n        }),\n        get({ // 花头\n          url: '/api/3d/getAllHead'\n        }),\n        get({ // 戒臂\n          url: '/api/3d/getAllRing'\n        })\n      ]).then(([data, heads, rings]) => {\n        if (data.code === 0 && heads.status === 1 && rings.status === 1) {\n          const designInfo = data.info\n\n          // let { mainParts } = designInfo\n          const allMainParts = designInfo.mainParts || []\n          const mainPartsFilter = (rings.data || []).map(d => d.ring_arm_id)\n          const mainParts = allMainParts.filter((m) => mainPartsFilter.includes(m.id))\n\n          // 花头ID列表\n          const allParts = designInfo.parts && designInfo.parts[0] || []\n          const partsFilter = (heads.data || []).map(d => d.flower_id)\n          const parts = allParts.filter((m) => partsFilter.includes(m.id))\n\n          // 当前戒臂ID （主part ID）\n          const mainPartId = mainParts[0] ? mainParts[0].id : ''\n          // 当前花头ID\n          const partId = parts[0] ? parts[0].id : ''\n\n          commit('setState', {\n            designInfo,\n            mainParts,\n            mainPartId,\n            partId,\n            parts,\n            allMainParts,\n            allParts\n          })\n        } else {\n          console.log('数据加载失败！')\n        }\n      })\n    },\n\n    /**\n     * 4 获取宝石材质列表（用于切换材质）\n     */\n    loadGemList ({ commit, state }) {\n      return post({\n        url: apiUrl + 'app/findUserGemByUser',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        let gems = []\n        if (data.code === 0) {\n          if (data.list.length > 0) {\n            gems = data.list.map(item => item.gem)\n            commit('setState', { gems })\n          } else {\n            post({\n              url: apiUrl + 'app/desGemList'\n            }).then((data) => {\n              if (data.code === 0) {\n                gems = data.list\n                commit('setState', { gems })\n              } else {\n                myAlert('数据加载失败！', 'alert-danger')\n              }\n            })\n          }\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 5 获取其它宝石列表（用于切换材质）\n     */\n    loadOtherGemList ({ commit, state }) {\n      post({\n        url: apiUrl + 'app/otherGemList'\n      }).then((data) => {\n        if (data.code === 0) {\n          const otherGems = data.list\n          commit('setState', { otherGems })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 6 获取金属web材质参数（用于渲染）\n     * @param userId\n     */\n    loadMetalWeb ({ commit, state }) {\n      post({\n        url: apiUrl + 'app/findMetalWebsByUser',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const metalWebDefault = data.list\n          const metalWeb = data.list\n          commit('setState', {\n            metalWeb,\n            metalWebDefault\n          })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 7 获取宝石web材质列表（用于渲染）\n     * @param userId\n     */\n    loadGemWeb ({ commit, state }) {\n      post({\n        url: apiUrl + 'app/findGemWebsByUser',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const gemWebDefault = data.list\n          const gemWeb = data.list\n          commit('setState', {\n            gemWeb,\n            gemWebDefault\n          })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 8 获取其它材质web材质列表（用于渲染、切换材质）\n     * @param userId\n     */\n    loadMaterialWeb ({ commit, state }) {\n      post({\n        url: apiUrl + 'app/findMaterialWebsByUserAndType',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const materialWebDefault = data.list\n          const materialWeb = data.list\n          commit('setState', {\n            materialWeb,\n            materialWebDefault\n          })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 9 获取试戴背景图列表\n     */\n    loadModelPicList ({ commit, state }) {\n      return post({\n        url: apiUrl + 'app/webModelPicList',\n        data: {\n          userId: state.userNo,\n          desTypeId: state.designInfo.type.id\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const webModelPics = data.list\n          commit('setState', { webModelPics })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 10 提交设计\n     */\n    async submitDesign ({ commit, state }, { image, bn, isCombo }) {\n      const { data, message } = await post({\n        url: '/api/3d/design/upload_image',\n        data: {\n          base64: image\n        }\n      })\n      if (!data) {\n        return alert('err： ' + message)\n      }\n      const preview_image = data.url\n      const {\n        mark,\n        mainPartId,\n        partId,\n        metalId,\n        diamondId,\n        currentHandInch,\n        title,\n        comboId\n      } = state\n\n      const query = {\n        diamond_id: diamondId,\n        ring_print: mark,\n        texture_id: metalId,\n        ring_size: currentHandInch,\n        good_type: 1,\n        title: title,\n        preview_image,\n        ring_arm_id: isCombo ? 0 : mainPartId,\n        flower_head_id: isCombo ? 0 : partId,\n        combo_id: isCombo ? comboId : 0\n      }\n\n      if (bn) {\n        query.bn = bn\n      }\n\n      return post({\n        url: '/api/3d/saveDesign',\n        data: query\n      }).then((data) => {\n        return data\n      })\n    },\n\n    /**\n     * 11 获取钻石信息\n     */\n    getDiamondInfo ({ commit, state }, { id }) {\n      get({\n        url: '/api/3d/get_diamond',\n        data: {\n          id\n        }\n      }).then((data) => {\n        if (data.status === 1) {\n          const diamondInfo = data.data\n          diamondInfo.detail = `${diamondInfo.color}色 ${diamondInfo.clarity} ${diamondInfo.cut} ${diamondInfo.symmetry} ${diamondInfo.polish} ${diamondInfo.flr_intensity}`\n          commit('setState', { diamondInfo })\n        }\n      })\n    },\n\n    /**\n     * 12 获取设计信息\n     */\n    getDesignInfo (_, { design_bn }) {\n      return get({\n        url: '/api/3d/design_detail',\n        data: {\n          design_bn\n        }\n      }).then((data) => {\n        return data\n      })\n    },\n\n    /**\n     * 13 实时计算价钱\n     */\n    getDesignPrice (_, {\n      isCombo,\n      currentHandInch,\n      partId,\n      mainPartId,\n      metalId,\n      diamondId,\n      comboId\n    }) {\n      return get({\n        url: '/api/3d/order/compute_price',\n        data: {\n          diamond_id: diamondId,\n          texture_id: metalId,\n          ring_size: currentHandInch,\n          ring_arm_id: isCombo ? 0 : mainPartId,\n          flower_head_id: isCombo ? 0 : partId,\n          combo_id: isCombo ? comboId : 0\n        }\n      }).then((data) => {\n        if (data.status === 1) {\n          return data.data.price\n        } else {\n          return '-'\n        }\n      })\n    },\n\n    /**\n     * 14 获取固定款列表\n     */\n    loadComboList ({ commit, state }) {\n      return Promise.all([\n        post({\n          url: apiUrl + 'app/designList',\n          data: {\n            userId: state.userNo,\n            loadType: 1,\n            dgpage: 1,\n            rows: 200\n          }\n        }),\n        get({\n          url: '/api/3d/getAllCombo'\n        })\n      ]).then(([data, combos]) => {\n        if (data.code === 0 && combos.status === 1) {\n          const allComboList = data.list || []\n          const filters = (combos.data || []).map((c) => c.combo_id)\n          const comboList = allComboList.filter((f) => filters.includes(f.id))\n\n          commit('setState', { comboList, allComboList })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 15 获取固定款信息\n     */\n    getComboInfo ({ commit, state }, { designId }) {\n      const {\n        comboList\n      } = state\n      let combo\n      comboList.forEach((item) => {\n        if (+item.id === +designId) {\n          combo = item\n        }\n      })\n\n      if (combo && combo.layers) {\n        return combo\n      }\n\n      return post({\n        url: apiUrl + 'app/designLayerInfo',\n        data: {\n          designId\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          combo = data.designInfo\n          const newComboList = comboList.map((item) => {\n            if (+item.id === +designId) {\n              return { ...item, ...data.designInfo }\n            }\n            return item\n          })\n          commit('setState', { comboList: newComboList })\n          return combo\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    }\n\n  }\n}\n","export default {\n  state: {\n    optionList: [\n      1, 2, 3\n    ]\n  },\n  mutations: {\n\n  },\n  actions: {\n\n  },\n  modules: {\n\n  }\n}\n","export default {\n  state: {\n    currtAddress: {\n      id: 0,\n      name: '',\n      tel: '',\n      address: ''\n    }\n  },\n  mutations: {\n    setState (state, payload) {\n      for (const key in payload) {\n        state[key] = payload[key]\n      }\n    }\n  },\n  actions: {\n\n  },\n  modules: {\n\n  }\n}\n","\nimport { apiUrl } from '../const/design'\nimport { get, post } from '../util/ajax'\n\nexport default {\n  state: {\n    userNo: 20230,\n    desNo: 30163,\n    userInfo: {},\n    // all信息\n    designInfo: {},\n    // 花头\n    partId: '',\n    parts: [],\n    // 戒臂\n    mainParts: [],\n    mainPartId: '',\n    // 材质\n    metals: [],\n    metalId: '',\n    // 当前钻石\n    diamondId: '',\n    diamondInfo: {},\n\n    otherGems: [],\n    metalWeb: [],\n    metalWebDefault: [],\n    gemWeb: [],\n    gemWebDefault: [],\n    materialWeb: [],\n    materialWebDefault: [],\n    webModelPics: []\n\n  },\n  mutations: {\n    setState (state, payload) {\n      for (const key in payload) {\n        state[key] = payload[key]\n      }\n    }\n  },\n  actions: {\n    /**\n     * 1 加载账号信息\n     * @param userId\n     */\n    share_loadUserInfo ({ commit, state }) {\n      return post({\n        url: apiUrl + 'app/userInfo',\n        data: {\n          id: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const userInfo = data.user\n          commit('setState', { userInfo })\n        }\n      })\n    },\n\n    /**\n     * 2 获取金属材质列表（用于切换材质）\n     */\n    share_loadMetalList ({ commit, state }) {\n      let metals = []\n      return post({\n        url: apiUrl + 'app/findUserMetalByUser',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          if (data.list.length > 0) {\n            let metalId = ''\n            metals = data.list.map(item => {\n              console.log(item.metal)\n              if (item.metal && item.metal.nameCn && item.metal.nameCn === '铂金') {\n                metalId = item.metal.id\n              }\n              return item.metal\n            })\n\n            metalId = metalId || metals[0].id\n\n            commit('setState', {\n              metals,\n              metalId\n            })\n          } else {\n            post({\n              url: apiUrl + 'app/desMetalList'\n            }).then((data) => {\n              if (data.code === 0) {\n                let metalId = ''\n                metals = data.list\n                metals.forEach(item => {\n                  if (item && item.nameCn && item.nameCn === '铂金') {\n                    metalId = item.id\n                  }\n                })\n\n                metalId = metalId || metals[0].id\n\n                commit('setState', {\n                  metals,\n                  metalId\n                })\n              } else {\n                myAlert('数据加载失败！', 'alert-danger')\n              }\n            })\n          }\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n    /**\n     * 3 加载款式信息\n     */\n    share_loadDesignInfo ({ commit, state }) {\n      return post({\n        url: apiUrl + 'app/getVariableDesignLayerInfo',\n        data: {\n          id: state.desNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const designInfo = data.info\n          const { mainParts } = designInfo\n          // 当前戒臂ID （主part ID）\n          const mainPartId = designInfo.mainParts[0].id\n          // 花头ID列表\n          const parts = designInfo.parts && designInfo.parts[0] || []\n          // 当前花头ID\n          const partId = parts[0] ? parts[0].id : ''\n\n          commit('setState', {\n            designInfo,\n            mainParts,\n            mainPartId,\n            partId,\n            parts\n          })\n        } else {\n          console.log('数据加载失败！')\n        }\n      })\n    },\n\n    /**\n     * 4 获取宝石材质列表（用于切换材质）\n     */\n    share_loadGemList ({ commit, state }) {\n      return post({\n        url: apiUrl + 'app/findUserGemByUser',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        let gems = []\n        if (data.code === 0) {\n          if (data.list.length > 0) {\n            gems = data.list.map(item => item.gem)\n            commit('setState', { gems })\n          } else {\n            post({\n              url: apiUrl + 'app/desGemList'\n            }).then((data) => {\n              if (data.code === 0) {\n                gems = data.list\n                commit('setState', { gems })\n              } else {\n                myAlert('数据加载失败！', 'alert-danger')\n              }\n            })\n          }\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 6 获取金属web材质参数（用于渲染）\n     * @param userId\n     */\n    share_loadMetalWeb ({ commit, state }) {\n      post({\n        url: apiUrl + 'app/findMetalWebsByUser',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const metalWebDefault = data.list\n          const metalWeb = data.list\n          commit('setState', {\n            metalWeb,\n            metalWebDefault\n          })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 7 获取宝石web材质列表（用于渲染）\n     * @param userId\n     */\n    share_loadGemWeb ({ commit, state }) {\n      post({\n        url: apiUrl + 'app/findGemWebsByUser',\n        data: {\n          userId: state.userNo\n        }\n      }).then((data) => {\n        if (data.code === 0) {\n          const gemWebDefault = data.list\n          const gemWeb = data.list\n          commit('setState', {\n            gemWeb,\n            gemWebDefault\n          })\n        } else {\n          myAlert('数据加载失败！', 'alert-danger')\n        }\n      })\n    },\n\n    /**\n     * 11 获取设计信息\n     */\n    share_getDesignInfo (_, { design_bn }) {\n      return get({\n        url: 'api/3d/design_detail',\n        data: {\n          design_bn\n        }\n      }).then((data) => {\n        return data\n      })\n    },\n\n    /**\n     * 13 实时计算价钱\n     */\n    share_getDesignPrice (_, {\n      currentHandInch,\n      partId,\n      mainPartId,\n      metalId,\n      diamondId\n    }) {\n      return get({\n        url: '/api/3d/order/compute_price',\n        data: {\n          diamond_id: diamondId,\n          texture_id: metalId,\n          ring_size: currentHandInch,\n          ring_arm_id: mainPartId,\n          flower_head_id: partId\n        }\n      }).then((data) => {\n        if (data.status === 1) {\n          return data.data.price\n        } else {\n          return '-'\n        }\n      })\n    }\n\n  }\n}\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport design from './design'\nimport common from './common'\nimport orderConfirm from './orderConfirm'\nimport share from './share'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    common,\n    design,\n    orderConfirm,\n    share\n  }\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1b20d147&lang=scss&scoped=true&\"","import Loading from '../components/3DLoading'\nimport { resourceDomainName, baseUrl } from '../const/design'\nimport { getUrlParam } from '../util/index'\n\nexport default {\n  components: {\n    Loading\n  },\n  props: [],\n  data () {\n    return {\n      // loading\n      loading: true,\n\n      // 保存的设计信息\n      saveDesignInfo: {},\n      design_bn: '',\n\n      // price\n      price: '-',\n\n      // 是否是固定款\n      isCombo: false\n    }\n  },\n  created () {\n    // 加载账号信息\n    this.$store.dispatch('loadUserInfo')\n  },\n  mounted () {\n    // 请求：材质、宝石、设计数据\n    Promise.all([\n      this.$store.dispatch('loadDesignInfo'),\n      this.$store.dispatch('loadMetalList'),\n      this.$store.dispatch('loadMetalWeb'),\n      this.$store.dispatch('loadGemList'),\n      this.$store.dispatch('loadGemWeb'),\n      this.$store.dispatch('loadComboList')\n    ]).then(() => {\n      console.log('mounted -> data loaded -> init3D')\n\n      const design_bn = getUrlParam('bn')\n      const partId = getUrlParam('partId')\n      const mainPartId = getUrlParam('mainPartId')\n      const metalId = getUrlParam('metalId')\n      const mark = getUrlParam('mark')\n      const currentHandInch = getUrlParam('currentHandInch')\n      const diamondId = getUrlParam('diamondId')\n      const comboId = getUrlParam('comboId')\n      const isCombo = getUrlParam('isCombo')\n\n      if (design_bn) {\n        this.$store.dispatch('getDesignInfo', { design_bn }).then((res) => {\n          this.saveDesignInfo = res.data\n          this.design_bn = design_bn\n          const {\n            ring_size,\n            diamond_id,\n            ring_arm_id,\n            flower_head_id,\n            combo_id,\n            texture_id,\n            ring_print,\n            title\n          } = res.data\n\n          this.getDiamond(diamondId || diamond_id)\n          this.mark = mark || ring_print || ''\n          this.isCombo = isCombo == null ? Boolean(combo_id) : !!Number(isCombo)\n\n          this.setRenderParams({\n            partId: partId || flower_head_id,\n            mainPartId: mainPartId || ring_arm_id,\n            metalId: metalId || texture_id,\n            mark: mark || ring_print,\n            currentHandInch: currentHandInch || ring_size,\n            diamondId: diamondId || diamond_id,\n            title,\n            comboId: comboId || combo_id\n          })\n        })\n      } else {\n        this.getDiamond(diamondId)\n        this.mark = mark || ''\n        this.isCombo = !!Number(isCombo)\n        const { comboList } = this.$store.state.design\n        this.setRenderParams({\n          partId,\n          mainPartId,\n          metalId,\n          mark,\n          currentHandInch,\n          comboId: comboId || comboList[0].id\n        })\n      }\n    })\n  },\n\n  methods: {\n    // 设置参数\n    setRenderParams (obj) {\n      for (const key in obj) {\n        if (!obj[key]) {\n          delete obj[key]\n        }\n      }\n\n      this.$store.commit('setState', obj)\n      const { comboId } = this.$store.state.design\n      setTimeout(() => {\n        if (this.isCombo) {\n          this.changeComboId(comboId)\n        } else {\n          this.init3D()\n        }\n      }, 0)\n    },\n\n    // 获取钻石信息\n    getDiamond (diamondId) {\n      if (diamondId) {\n        this.$store.dispatch('getDiamondInfo', { id: diamondId })\n        this.$store.commit('setState', {\n          diamondId\n        })\n      }\n    },\n    // 切换前的清理工作\n    clearAndPrepare3D () {\n      if (this.__pre_isCombo == null || this.isCombo !== this.__pre_isCombo) {\n        if (this.my3d && this.my3d) {\n          this.my3d.onClose()\n        }\n        document.querySelector('#web3d').innerHTML = ''\n\n        const {\n          metalWeb,\n          metalWebDefault,\n          gemWeb,\n          gemWebDefault\n        } = this.$store.state.design\n\n        // 加载3D第一步：初始化3D场景\n        this.my3d = Bavlo.initWeb3D(\n          baseUrl,\n          'web3d',\n          false,\n          resourceDomainName,\n          // false\n          // 是否是固定搭配\n          this.isCombo\n        )\n\n        // 加载3D第二步：定义3D窗口尺寸\n        this.my3d.onWindowResize(2)\n        window.onresize = () => {\n          this.my3d.onWindowResize(2)\n        }\n\n        // 加载3D第三步：初始化web材质\n        this.my3d.initUserMatInfo(\n          metalWebDefault,\n          metalWeb,\n          gemWebDefault,\n          gemWeb\n        )\n\n        // 加载3D第四步：设置3D场景背景色\n        this.my3d.changeBackground('37,37,42')\n      }\n      this.__pre_isCombo = this.isCombo\n    },\n    // 初始化定制款3D\n    async init3D () {\n      this.isCombo = false\n      this.clearAndPrepare3D()\n\n      const {\n        designInfo,\n        partId,\n        mainPartId\n      } = this.$store.state.design\n\n      // 加载3D第五步：加载款式3D\n      this.my3d.loadVarDesign(designInfo, mainPartId, partId.toString())\n\n      this.loaded()\n    },\n\n    // 初始化固定款3D\n    async initCombo3D (Combo) {\n      this.isCombo = true\n      this.clearAndPrepare3D()\n\n      // 加载3D第五步：加载款式3D\n      this.my3d.loadDesign(Combo)\n\n      this.loaded()\n    },\n    // 加载完\n    loaded () {\n      setTimeout(() => {\n        if (this.my3d.getLoadModelState() !== 2) {\n          this.loaded()\n        } else {\n          const { metalId } = this.$store.state.design\n          // 设置材质\n          this.loading = false\n\n          // 设置角度\n          this.setInitCameraPos()\n\n          // 设置材质\n          this.changeMetalId(metalId)\n\n          // 用户刻印\n          this.printUserMark()\n          if (this.mark) {\n            setTimeout(() => {\n              this.my3d.setRotationState(true)\n            }, 200)\n          }\n        }\n      }, 1000)\n    },\n\n    /**\n     * 设置相机角度\n     */\n    setInitCameraPos () {\n      this.my3d.changeCameraPos(false, -45, 100, -65)\n    },\n\n    /**\n     * 切换材料\n     * @param metalId\n     */\n    changeMetalId (metalId) {\n      const { metals } = this.$store.state.design\n      let material\n      metals.forEach((item) => {\n        if (+item.id === +metalId) {\n          material = item\n        }\n      })\n      this.$store.commit('setState', {\n        metalId\n      })\n\n      let name = '金属图层'\n      if (this.isCombo) {\n        const cus = this.my3d.getCustomization()\n        const target = cus.find((c) => (/^Metal/i).test(c.name))\n        if (target) {\n          name = target.name\n        }\n      }\n\n      // 金属图层\n      material && this.my3d.customizeMetalClass(name, material)\n      this.getPrice()\n    },\n\n    /**\n     * 用户刻印\n     */\n    printUserMark (force = false) {\n      if (force || this.mark) {\n        let id = 940\n        if (this.isCombo) {\n          const cus = this.my3d.getCustomization()\n          const target = cus.find((c) => (/^Engrave/i).test(c.name))\n          if (target) {\n            id = target.id\n          }\n        }\n        this.my3d.printUserTextOfLayer(id, this.mark || ' ')\n      }\n    },\n\n    /**\n     * 切换固定款\n     * @param comboId\n     */\n    changeComboId (comboId) {\n      const switchIt = async () => {\n        this.$store.commit('setState', {\n          comboId\n        })\n        this.$store.dispatch('getComboInfo', { designId: comboId })\n          .then((combo) => {\n            combo && this.initCombo3D(combo)\n            this.getPrice()\n          })\n      }\n      if (this.isCombo) {\n        switchIt()\n      } else {\n        this.$dialog.confirm({\n          title: '提示',\n          message: '是否以当前固定款式覆盖设计款式方案？'\n        })\n          .then(switchIt)\n      }\n    },\n\n    // 实时获取金额\n    getPrice () {\n      const {\n        partId,\n        mainPartId,\n        metalId,\n        currentHandInch,\n        diamondId,\n        comboId\n      } = this.$store.state.design\n\n      this.$store.dispatch('getDesignPrice', {\n        isCombo: this.isCombo,\n        currentHandInch: currentHandInch || 13,\n        partId,\n        mainPartId,\n        metalId,\n        diamondId,\n        comboId: comboId\n      }).then((price) => {\n        this.price = price\n      })\n    }\n  },\n\n  filters: {\n    formatIndex (num) {\n      num = num + 1\n      return num < 10 ? '0' + num : num\n    },\n    formatCost (num) {\n      if (typeof num === 'number' && !isNaN(num)) {\n        return num.toString() + '.00'\n      }\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1b20d147&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1b20d147&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b20d147\",\n  null\n  \n)\n\nexport default component.exports","export const baseUrl = ''\nexport const apiUrl = 'https://jcd.bavlo.com/manage/'\nexport const resourceDomainName = 'https://design.bavlo.com/'\nexport const normalMapUrl = resourceDomainName + 'NormalFiles/'\nexport const handInch = ['6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20']\n\nexport const colorList = [\n  {\n    color: '190,190,190',\n    density: 0.0152,\n    fMetallic: '1',\n    fSmoothness: '0.9',\n    id: 2,\n    name: 'W18k',\n    nameCn: '白18K金',\n    parentId: 0,\n    price: 310,\n    purity: 0.76,\n    type: 0,\n    userId: 0,\n    waste: 0.13\n  },\n  {\n    color: '238, 175, 144',\n    density: 0.0152,\n    fMetallic: '1',\n    fSmoothness: '0.9',\n    id: 3,\n    name: 'R18k',\n    nameCn: '红18K金',\n    parentId: 0,\n    price: 310,\n    purity: 0.76,\n    type: 0,\n    userId: 0,\n    waste: 0.13\n  },\n  {\n    color: '255,200,112',\n    density: 0.0152,\n    fMetallic: '1',\n    fSmoothness: '0.9',\n    id: 1,\n    name: 'Y18k',\n    nameCn: '黄18K金',\n    parentId: 0,\n    price: 310,\n    purity: 0.76,\n    type: 0,\n    userId: 0,\n    waste: 0.13\n  },\n  {\n    color: '225,225,225',\n    density: 0.0214,\n    fMetallic: '1',\n    fSmoothness: '0.9',\n    id: 6,\n    name: 'PT950',\n    nameCn: '铂金',\n    parentId: 0,\n    price: 310,\n    purity: 0.96,\n    type: 0,\n    userId: 0,\n    waste: 0.13\n  }\n]\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title-bar-box\"},[_c('van-nav-bar',{staticClass:\"bag-bar\",attrs:{\"title\":_vm.title,\"left-text\":\"\",\"left-arrow\":\"\",\"safe-area-inset-top\":\"\"},on:{\"click-left\":_vm.onClickLeft}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"title-bar-box\">\n    <!-- <div class=\"status-bar\"></div> -->\n    <van-nav-bar\n      :title=\"title\"\n      left-text=\"\"\n      left-arrow\n      @click-left=\"onClickLeft\"\n      safe-area-inset-top\n      class=\"bag-bar\"\n    />\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'TitleBar',\n  props: {\n    title: {\n      type: String,\n      default: ''\n    },\n    type: {\n      type: Number,\n      default: 1 // 1默认返回 2uni返回\n    }\n  },\n  methods: {\n    onClickLeft () {\n      if (this.type === 1) {\n        \twindow.history.go(-1)\n      } else if (window.uni.reLaunch) {\n        window.uni.navigateBack()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.title-bar-box {\n\t/* height: 72px; */\n  height: 44px;\n  background: #fff;\n}\n/* .status-bar {\n  width: 100%;\n  height: 24px;\n  background: #fff;\n  position: fixed;\n  top:0;\n  z-index: 9;\n} */\n/deep/.bag-bar {\n    position: fixed;\n    width: 100%;\n    /* top: 24px; */\n    top: 0;\n    .van-icon {\n      color: #000 !important;\n    }\n    .van-nav-bar__content {\n      height: 50px;\n    }\n    .van-nav-bar__title {\n      line-height: 50px;\n      font-size: 16px;\n      font-weight: 700 !important;\n      color: #000;\n    }\n    .van-nav-bar__arrow {\n      font-size: 24px;\n    }\n    .van-nav-bar__left, .van-nav-bar__right {\n      padding: 8px;\n    }\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=c50e9c34&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=c50e9c34&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c50e9c34\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/bg.fc782997.png\";"],"sourceRoot":""}