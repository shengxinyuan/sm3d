(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68c8c4c8"],{"6d87":function(s,t,a){},b905:function(s,t,a){"use strict";a("6d87")},cf2a:function(s,t,a){"use strict";a.r(t);var e=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"order"},[a("van-nav-bar",{staticClass:"bag-bar",attrs:{title:"设计信息","left-text":"","left-arrow":"","safe-area-inset-top":!0},on:{"click-left":s.onClickLeft}}),a("div",{staticClass:"order-header",staticStyle:{"margin-top":"50px"}},[a("div",{staticClass:"design-img",style:{backgroundImage:"url("+s.preview_image}}),a("p",{staticClass:"order-tip"},[s._v("3D定制效果仅供参考，商品以实物为准")])]),s.title?a("div",{staticClass:"order-name",on:{click:s.toggleShow}},[a("span",{staticStyle:{"line-height":"24px"}},[s._v("设计名称：")]),a("span",{staticClass:"order-title"},[s._v(s._s(s.title))]),a("span",{staticClass:"tip-icon"},[a("van-icon",{attrs:{name:"edit"}})],1)]):s._e(),a("div",{staticClass:"order-tab"},[a("van-tabs",{staticClass:"order-tabs",model:{value:s.active,callback:function(t){s.active=t},expression:"active"}},[a("van-tab",{attrs:{title:"款式参数"}},[a("div",{staticClass:"order-ks"},[a("div",{staticClass:"order-cell order-cell__picker"},[a("span",{staticClass:"order-cell__label"},[s._v("手寸")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.ksInfo.sc))]),a("van-icon",{staticClass:"order-cell__picker-icon",attrs:{name:"question-o",size:"24px"},on:{click:s.showHelpPopup}}),a("van-popup",{attrs:{closeable:""},model:{value:s.showHelp,callback:function(t){s.showHelp=t},expression:"showHelp"}},[a("div",{staticClass:"order-help"},[a("p",[s._v("如何测量正确的手寸？")]),a("van-swipe",{staticClass:"my-swipe"},[a("van-swipe-item",[a("img",{attrs:{src:"https://h5.zbird.com/hybrid/html/custom/assets/size1.png",width:"315px",height:"220px"}})]),a("van-swipe-item",[a("img",{attrs:{src:"https://h5.zbird.com/hybrid/html/custom/assets/size2.png",width:"315px",height:"220px"}})]),a("van-swipe-item",[a("img",{attrs:{src:"https://h5.zbird.com/hybrid/html/custom/assets/size3.png",width:"315px",height:"220px"}})]),a("van-swipe-item",[a("img",{attrs:{src:"https://h5.zbird.com/hybrid/html/custom/assets/size4.png",width:"315px",height:"220px"}})])],1)],1)])],1),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("材质")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.ksInfo.cz))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("戒臂")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.ksInfo.jb))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("花头")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.ksInfo.ht))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("刻字")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.ksInfo.kz))])])])]),a("van-tab",{attrs:{title:"钻石参数"}},[a("div",{staticClass:"order-ks"},[a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("钻石价格")]),a("span",{staticClass:"order-cell__value"},[s._v("¥"+s._s(s.zsInfo.price||"1500"))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("形状")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.zsInfo.xz))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("颜色")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.zsInfo.ys))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("净度")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.zsInfo.jd))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("荧光")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.zsInfo.yg))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("抛光")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.zsInfo.pg))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("切工")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.zsInfo.qg))])]),a("div",{staticClass:"order-cell"},[a("span",{staticClass:"order-cell__label"},[s._v("对称")]),a("span",{staticClass:"order-cell__value"},[s._v(s._s(s.zsInfo.dc))])])])])],1)],1),a("div",{staticClass:"bag-btns"},[a("div",{staticClass:"price"},[s._v("¥ 12000")]),a("div",{staticClass:"btns"},[a("van-icon",{staticClass:"icon-my-design",attrs:{name:"bag-o",color:"rgb(193, 177, 138)",size:"25"},on:{click:function(){s.$router.push("/mydesign")}}}),a("div",[a("van-button",{staticClass:"button bag-list__btn--save",attrs:{type:"primary"},on:{click:s.toggleShow}},[s._v("保存设计")])],1),a("div",{staticClass:"flex1"}),a("div",[a("van-button",{staticClass:"button bag-list__btn--buy",attrs:{type:"primary"},on:{click:s.buy}},[s._v("确认购买")])],1)],1)]),a("van-dialog",{staticClass:"dialog",attrs:{title:"设计名称","show-cancel-button":""},on:{open:s.handleOpen,confirm:s.handleConfirm,close:s.handleClose},model:{value:s.show,callback:function(t){s.show=t},expression:"show"}},[a("van-field",{ref:"inputRef",staticClass:"title-input",attrs:{label:"",placeholder:"请填写设计名称",autofocus:""},model:{value:s.curTitle,callback:function(t){s.curTitle=t},expression:"curTitle"}})],1)],1)},i=[],l=(a("2ca0"),a("159b"),a("9e2c")),c={data:function(){return{bn:this.$route.query.bn||0,active:2,title:"",curTitle:"",preview_image:"",show:!1,ksInfo:{sc:0,cz:"",cz_id:2,jb:"",ht:"",fs:"",kz:""},zsInfo:{zs:"",zz:"0.30ct",xz:"圆形",ys:"K",jd:"SI2",yg:"无",pg:"EX",qg:"VG",dc:"EX"},showSc:!1,showHelp:!1}},created:function(){this.loadDesign()},methods:{loadDesign:function(){var s=this;this.$get({url:"/api/design/design_detail",data:{design_bn:this.bn}}).then((function(t){var a=t.data;s.preview_image=a.preview_image,s.preview_image&&s.preview_image.startsWith("uploads")&&(s.preview_image=""+s.preview_image),a.title&&(s.title=a.title),s.ksInfo.sc=a.ring_size,s.ksInfo.kz=a.ring_print,s.ksInfo.ht=a.flower_head_id,s.ksInfo.jb=a.ring_arm_id,s.zsInfo.zs=a.diamond_id,s.zsInfo.zs=a.diamond_id,l["c"].forEach((function(t){t.id===a.texture_id&&(s.ksInfo.cz=t.nameCn)}))})).catch((function(){s.$toast.fail("获取数据失败，请稍后重试")}))},showScPopup:function(){this.showSc=!0},showHelpPopup:function(){this.showHelp=!0},onConfirm:function(s,t){this.ksInfo.sc.value=s,this.ksInfo.sc.index=t,this.showSc=!1},onCancel:function(){this.showSc=!1},onClickLeft:function(){this.$router.back()},toggleShow:function(){this.show=!this.show},buy:function(){this.$router.push("./orderConfirm?bn=".concat(this.bn))},handleOpen:function(){this.curTitle=this.title},handleConfirm:function(){var s=this;console.log(this.curTitle),this.title=this.curTitle,this.$post({url:"/api/3d/saveDesign",data:{bn:this.bn,flower_head_id:this.ksInfo.ht,ring_arm_id:this.ksInfo.jb,diamond_id:this.zsInfo.zs,ring_print:this.ksInfo.kz,texture_id:this.ksInfo.cz_id,title:this.title,ring_size:this.ksInfo.sc.index,good_type:1,preview_image:this.preview_image}}).then((function(t){s.$toast.fail("保存成功")})).catch((function(){s.$toast.fail("保存失败")}))},handleClose:function(){this.curTitle=""}}},n=c,o=(a("b905"),a("2877")),r=Object(o["a"])(n,e,i,!1,null,"d9fa2adc",null);t["default"]=r.exports}}]);
//# sourceMappingURL=chunk-68c8c4c8.3c6f764a.js.map