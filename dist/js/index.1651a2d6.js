(function(e){function t(t){for(var a,s,o=t[0],c=t[1],d=t[2],l=0,u=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);f&&f(t);while(u.length)u.shift()();return i.push.apply(i,d||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var o=n[s];0!==r[o]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},s={index:0},r={index:0},i=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-1927ec42":"42ffe47a","chunk-25188f63":"a2cf0c22","chunk-60ce77bc":"6654ecf6","chunk-d089f4e4":"2d483004","chunk-e10866e4":"128858e5","chunk-975e426e":"4c40a8bb"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-1927ec42":1,"chunk-60ce77bc":1,"chunk-d089f4e4":1,"chunk-e10866e4":1,"chunk-975e426e":1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-1927ec42":"96c4ad61","chunk-25188f63":"31d6cfe0","chunk-60ce77bc":"2c5cd706","chunk-d089f4e4":"f601e453","chunk-e10866e4":"13aee844","chunk-975e426e":"074e4456"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var d=i[o],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===a||l===r))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){d=u[o],l=d.getAttribute("data-href");if(l===a||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete s[e],f.parentNode.removeChild(f),n(i)},f.href=r;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){s[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=i);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var u=new Error;d=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",u.name="ChunkLoadError",u.type=a,u.request=s,n[1](u)}r[e]=void 0}};var f=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var f=l;i.push([3,"chunk-vendors"]),n()})({0:function(e,t){},"0697":function(e,t,n){},1967:function(e,t,n){},"199c":function(e,t){},"1fd2":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return o}));var a="",s="https://jcd.bavlo.com/manage/",r="https://design.bavlo.com/",i=["6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24"],o=[{color:"190,190,190",density:.0152,fMetallic:"1",fSmoothness:"0.9",id:2,name:"W18k",nameCn:"白18K金",parentId:0,price:310,purity:.76,type:0,userId:0,waste:.13},{color:"244,187,149",density:.0152,fMetallic:"1",fSmoothness:"0.9",id:3,name:"R18k",nameCn:"红18K金",parentId:0,price:310,purity:.76,type:0,userId:0,waste:.13},{color:"242,220,112",density:.0152,fMetallic:"1",fSmoothness:"0.9",id:1,name:"Y18k",nameCn:"黄18K金",parentId:0,price:310,purity:.76,type:0,userId:0,waste:.13},{color:"225,225,225",density:.0214,fMetallic:"1",fSmoothness:"0.9",id:6,name:"PT950",nameCn:"铂金",parentId:0,price:310,purity:.96,type:0,userId:0,waste:.13},{color:"255,225,110",density:.0193,fMetallic:"1",fSmoothness:"0.9",id:5,name:"G999",nameCn:"足金",parentId:0,price:310,purity:1,type:0,userId:0,waste:.13}]},"23be":function(e,t,n){"use strict";var a=n("199c"),s=n.n(a);t["default"]=s.a},3:function(e,t,n){e.exports=n("56d7")},"3dfd":function(e,t,n){"use strict";var a=n("7267"),s=n("23be"),r=(n("5c0b"),n("2877")),i=Object(r["a"])(s["default"],a["a"],a["b"],!1,null,null,null);t["default"]=i.exports},"408d":function(e,t,n){"use strict";n("1967")},"56d7":function(e,t,n){"use strict";n.r(t);n("e17f");var a=n("2241"),s=(n("8a58"),n("e41f")),r=(n("5f5f"),n("f253")),i=(n("2994"),n("2bdd")),o=(n("e7e5"),n("d399")),c=(n("c3a6"),n("ad06")),d=(n("bda7"),n("5e46")),l=(n("da3c"),n("0b33")),u=(n("5246"),n("6b41")),f=(n("4d48"),n("d1e1")),m=(n("81e6"),n("9ffb")),p=(n("66b9"),n("b650")),h=(n("4b0a"),n("2bb1")),v=(n("7844"),n("5596")),b=(n("a52c"),n("2ed4")),_=(n("537a"),n("ac28")),g=(n("2b28"),n("9ed2")),C=(n("acb7"),n("67bb")),k=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("2b0e")),y=n("3dfd"),I=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),w=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},x=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("a",{attrs:{href:"/design.html"}},[n("div",{staticClass:"home-banner"})]),n("a",{attrs:{href:"/design.html"}},[n("div",{staticClass:"home-tag"})]),n("a",{attrs:{href:"/design.html"}},[n("div",{staticClass:"home-design"})]),n("a",{attrs:{href:"/mydesign"}},[n("div",{staticClass:"home-design"},[e._v("我的设计")])]),n("a",{attrs:{href:"/design.html"}},[n("div",{staticClass:"home-se"})]),n("a",{attrs:{href:"/design.html"}},[n("div",{staticClass:"home-img"})])])}],O={name:"Home",components:{}},j=O,$=(n("fae6"),n("2877")),A=Object($["a"])(j,w,x,!1,null,"75a09d9a",null),P=A.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._l(e.routes.filter((function(e,t){return t>0})),(function(t,a){return n("router-link",{key:a,staticClass:"item",attrs:{to:t.path,tag:"div"}},[e._v(" "+e._s(t.name)+" ")])})),n("a",{attrs:{href:"/design.html"}},[e._v("design.html")]),n("a",{attrs:{href:"/share.html"}},[e._v("share.html")])],2)},E=[],L={components:{},data:function(){return{routes:V}},computed:{},methods:{methodAAAA:function(){}}},T=L,z=(n("408d"),Object($["a"])(T,S,E,!1,null,null,null)),M=z.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"order-confirm"},[n("van-nav-bar",{staticClass:"bag-bar",attrs:{title:"确认订单","left-text":"","left-arrow":"","safe-area-inset-top":!0},on:{"click-left":e.onClickLeft}}),n("section",{staticClass:"order-info-item",staticStyle:{"margin-top":"60px"}},[n("div",{staticClass:"flex order-title-cont"},[n("van-icon",{attrs:{name:"location-o icon-style"}}),n("div",{staticClass:"title"},[e._v(" 收货地址 ")])],1),n("div",{staticClass:"order-info-cont flex"},[n("div",{staticClass:"flex1",on:{click:e.changeAddress}},[n("p",[n("span",[e._v(e._s(e.$store.state.OrderConfirm.currtAddress.name||"请选择收货地址"))]),n("span",{staticClass:"phone-num"},[e._v(e._s(e.$store.state.OrderConfirm.currtAddress.tel||""))])]),n("p",{staticClass:"address"},[e._v(e._s(e.$store.state.OrderConfirm.currtAddress.address||""))])]),n("van-icon",{attrs:{name:"arrow"}})],1)]),n("section",{staticClass:"order-info-item"},[n("div",{staticClass:"flex order-title-cont"},[n("van-icon",{attrs:{name:"completed icon-style"}}),n("div",{staticClass:"title"},[e._v(" 订单商品信息 ")])],1),n("div",{staticClass:"order-info-cont"},[n("div",[n("div",{staticClass:"design-img",style:{backgroundImage:"url("+e.preview_image}})]),n("div",{staticClass:"order-cell"},[n("span",{staticClass:"order-cell__label"},[e._v("款式：")]),n("span",{staticClass:"order-cell__value"},[e._v(e._s(e.ksInfo.ks))])]),n("div",{staticClass:"order-cell"},[n("span",{staticClass:"order-cell__label"},[e._v("材质：")]),n("span",{staticClass:"order-cell__value"},[e._v(e._s(e.ksInfo.cz))])]),e.ksInfo.kz?n("div",{staticClass:"order-cell"},[n("span",{staticClass:"order-cell__label"},[e._v("刻字：")]),n("span",{staticClass:"order-cell__value"},[e._v(e._s(e.ksInfo.kz))])]):e._e(),n("div",{staticClass:"order-cell"},[n("span",{staticClass:"order-cell__label"},[e._v("戒臂：")]),n("span",{staticClass:"order-cell__value"},[e._v(e._s(e.ksInfo.jb))])]),n("div",{staticClass:"order-cell"},[n("span",{staticClass:"order-cell__label"},[e._v("花头：")]),n("span",{staticClass:"order-cell__value"},[e._v(e._s(e.ksInfo.ht))])])]),n("div",{staticClass:"cont-info-more"},[n("label",{staticClass:"remark-label",attrs:{for:"remark"}},[e._v("订单备注")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.comment,expression:"comment"}],staticClass:"remark",attrs:{id:"remark",type:"text",placeholder:"请填写"},domProps:{value:e.comment},on:{input:function(t){t.target.composing||(e.comment=t.target.value)}}})])]),n("section",{staticClass:"order-info-item"},[n("div",{staticClass:"flex order-title-cont"},[n("van-icon",{attrs:{name:"gold-coin-o icon-style"}}),n("div",{staticClass:"title flex1"},[e._v(" 商品总金额 ")]),n("div",{staticClass:"title yellow"},[e._v(" ¥"+e._s(e.ddInfo.cost)+" ")])],1),n("div",{staticClass:"order-info-cont"},[n("div",{staticClass:"flex"},[n("van-icon",{attrs:{name:"cash-back-record icon-style"}}),n("div",{staticClass:"flex1"},[e._v("定金")]),n("div",[e._v("¥ "+e._s(e.ddInfo.deposit||0))])],1),n("div",{staticClass:"flex pt10"},[n("van-icon",{attrs:{name:"coupon-o icon-style"}}),n("div",{staticClass:"flex1"},[e._v("定金比例")]),n("div",[e._v(e._s(e.ddInfo.deposit_ratio||0)+"%")])],1),n("div",{staticClass:"flex pt10"},[n("van-icon",{attrs:{name:"balance-list-o icon-style"}}),n("div",{staticClass:"flex1"},[e._v("尾款")]),n("div",[e._v("¥ "+e._s(e.ddInfo.cost||0-e.ddInfo.deposit||0))])],1)])]),n("div",{staticClass:"btns-box"},[n("a",{staticClass:"btn",on:{click:e.buy}},[e._v("立即购买")])])],1)},q=[],N=(n("2ca0"),n("b0c0"),n("159b"),n("1fd2")),G={components:{},data:function(){return{bn:this.$route.query.bn,comment:"",preview_image:"",ksInfo:{sc:{value:"12 51.2mm",index:"12"},ks:"圆款钻石定制",cz:"",jb:"",ht:"",fs:"天然钻石(白)"},zsInfo:{zs:"GIA 232813821738",zz:"0.15ct",xz:"圆形",ys:"K",jd:"SI2",yg:"无",pg:"EX",qg:"VG",dc:"EX"},ddInfo:{cost:0,deposit:0,deposit_ratio:0}}},created:function(){this.onLoad()},computed:{},methods:{onLoad:function(){var e=this;Promise.all([this.$get({url:"api/design/design_detail",data:{design_bn:this.bn}}),this.$get({url:"api/3d/order",data:{design_bn:this.bn}})]).then((function(t){var n=t[0].data,a=t[1].data;e.preview_image=n.preview_image,e.preview_image&&e.preview_image.startsWith("uploads")&&(e.preview_image=""+e.preview_image),n.title&&(e.name=n.title),e.ksInfo.sc=n.ring_size,e.ksInfo.kz=n.ring_print,e.ksInfo.ht=n.flower_head_id,e.ksInfo.jb=n.ring_arm_id,e.zsInfo.zs=n.diamond_id,e.ddInfo.cost=a.cost,e.ddInfo.deposit=a.deposit,e.ddInfo.deposit_ratio=a.deposit_ratio,N["c"].forEach((function(t){t.id===n.texture_id&&(e.ksInfo.cz=t.nameCn)}))})).catch((function(t){e.$toast.fail("获取数据失败")}))},buy:function(){var e=this;this.$store.state.OrderConfirm.currtAddress.id?this.$post({url:"api/3d/order",data:{design_bn:this.$route.query.bn,coupon_id:0,comment:this.comment,address_id:this.$store.state.OrderConfirm.currtAddress.id,vip:0}}).then((function(t){1==t.status&&e.$toast.success("提交订单成功")})).catch((function(){e.$toast.fail("提交订单失败")})):this.$toast("请先选择收货地址")},onClickLeft:function(){this.$router.back()},changeAddress:function(){this.$router.push("/address")}}},K=G,H=(n("6749"),Object($["a"])(K,D,q,!1,null,"e3c9e0ec",null)),X=H.exports,B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{staticClass:"bag-bar",attrs:{title:"地址列表","left-text":"","left-arrow":"","safe-area-inset-top":!0},on:{"click-left":e.onClickLeft}}),n("van-address-list",{attrs:{list:e.list,"default-tag-text":"默认",editable:"false"},on:{add:e.onAdd,select:e.select},model:{value:e.chosenAddressId,callback:function(t){e.chosenAddressId=t},expression:"chosenAddressId"}})],1)},F=[],R=(n("d81d"),{data:function(){return{chosenAddressId:0,list:[]}},created:function(){this.loadAddressInfo()},methods:{loadAddressInfo:function(){var e=this;this.$get({url:"api/address"}).then((function(t){e.list=t.data,e.list.map((function(e){e.name=e.contact,e.tel=e.mobile}))})).catch((function(){}))},onClickLeft:function(){this.$router.back()},onAdd:function(){},select:function(e,t){this.$store.commit("setState",{currtAddress:e}),this.$router.back()}}}),U=R,W=(n("dfe3"),Object($["a"])(U,B,F,!1,null,"42bd840c",null)),J=W.exports;k["a"].use(I["a"]);var V=[{path:"/",name:"DebugList",component:M},{path:"/home",name:"Home",component:P},{path:"/mydesign",name:"MyDesign",component:function(){return n.e("chunk-975e426e").then(n.bind(null,"069e"))}},{path:"/order",name:"Order",component:function(){return n.e("chunk-1927ec42").then(n.bind(null,"cf2a"))}},{path:"/diamondList",name:"DiamondList",component:function(){return Promise.all([n.e("chunk-25188f63"),n.e("chunk-e10866e4")]).then(n.bind(null,"bab3"))}},{path:"/diamondDetail",name:"diamondDetail",component:function(){return Promise.all([n.e("chunk-25188f63"),n.e("chunk-60ce77bc")]).then(n.bind(null,"e385"))}},{path:"/orderConfirm",name:"OrderConfirm",component:X},{path:"/address",name:"Address",component:J},{path:"/myOrderList",name:"myOrderList",component:function(){return Promise.all([n.e("chunk-25188f63"),n.e("chunk-d089f4e4")]).then(n.bind(null,"f35c"))}},{path:"*",name:"404",component:P}],Y=new I["a"]({mode:"history",base:"/",routes:V}),Q=Y,Z=n("2f62"),ee={state:{optionList:[1,2,3]},mutations:{},actions:{},modules:{}},te={state:{currtAddress:{id:0,name:"",tel:"",address:""}},mutations:{setState:function(e,t){for(var n in t)e[n]=t[n]}},actions:{},modules:{}};k["a"].use(Z["a"]);var ne=new Z["a"].Store({modules:{DiamondsList:ee,OrderConfirm:te}}),ae=(n("157a"),n("53ca")),se=n("5530"),re=n("bc3a"),ie=n.n(re),oe=n("4328"),ce="/",de=function(e){return function(t){var n=t.url,a=t.data,s=t.options,r=void 0===s?{}:s,i=t.isForm,o=void 0===i||i;return ie()(Object(se["a"])(Object(se["a"])({baseUrl:ce,url:ce+n,method:e},"POST"===e?{data:o?Object(oe["stringify"])(a):a}:{}),{},{params:"GET"===e?a:r.params,headers:Object(se["a"])({"X-Requested-With":"XMLHttpRequest","Content-Type":o?"application/x-www-form-urlencoded; charset=UTF-8":"application/json"},r.headers)})).then((function(e){return"object"!==Object(ae["a"])(e.data)?Promise.reject(e):e.data.errcode?Promise.reject(e.data):e.data})).catch((function(e){return Promise.reject(e)}))}},le=de("GET"),ue=de("POST");k["a"].use(C["a"]),k["a"].use(g["a"]),k["a"].use(_["a"]),k["a"].use(b["a"]),k["a"].use(v["a"]),k["a"].use(h["a"]),k["a"].use(p["a"]),k["a"].use(m["a"]),k["a"].use(f["a"]),k["a"].use(u["a"]),k["a"].use(l["a"]),k["a"].use(d["a"]),k["a"].use(c["a"]),k["a"].use(o["a"]),k["a"].use(i["a"]),k["a"].use(r["a"]),k["a"].use(s["a"]),k["a"].use(a["a"]),k["a"].config.productionTip=!1,k["a"].prototype.$get=le,k["a"].prototype.$post=ue,k["a"].prototype.$toast=o["a"],new k["a"]({router:Q,store:ne,render:function(e){return e(y["default"])}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},6749:function(e,t,n){"use strict";n("b835")},7267:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[]},"9c0c":function(e,t,n){},b7bb:function(e,t,n){},b835:function(e,t,n){},dfe3:function(e,t,n){"use strict";n("b7bb")},fae6:function(e,t,n){"use strict";n("0697")}});
//# sourceMappingURL=index.1651a2d6.js.map